<template>
    <div class="this-explorer">
      <h1>–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ <code>this</code> –≤ JavaScript</h1>
      
      <div class="problem-statement">
        <h2>–ó–∞–¥–∞—á–∞</h2>
        <p>–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —á—Ç–æ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ –≤ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–æ–¥–∞:</p>
        <pre class="code-block">function foo() {
    const x = 10;
  
    return {
      x: 20,
  
      bar() {
        console.log(this.x);
      },
  
      baz: () => {
        console.log(this.x);
      },
    };
  }
  
  const obj1 = foo();
  obj1.bar(); // ?
  obj1.baz(); // ?
  
  const obj2 = foo.call({ x: 30 });
  let y = obj2.bar;
  let x = obj2.baz;
  
  y(); // ?
  x(); // ?
  
  obj2.bar(); // ?
  obj2.baz(); // ?</pre>
      </div>
  
      <div class="theory-section">
        <h2>–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã this –≤ JavaScript</h2>
        <div class="principles">
          <div class="principle">
            <h3>1. –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–∑–æ–≤–∞</h3>
            <p>–ó–Ω–∞—á–µ–Ω–∏–µ <code>this</code> –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è <strong>—Å–ø–æ—Å–æ–±–æ–º –≤—ã–∑–æ–≤–∞</strong> —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –Ω–µ –º–µ—Å—Ç–æ–º –µ—ë –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.</p>
          </div>
          <div class="principle">
            <h3>2. –û–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ vs —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ</h3>
            <p>–û–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç —Å–≤–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç <code>this</code>, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ. –°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ <strong>–Ω–µ –∏–º–µ—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ</strong> <code>this</code> –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç <code>this</code> –∏–∑ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≥–¥–µ –æ–Ω–∏ –±—ã–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã.</p>
          </div>
          <div class="principle">
            <h3>3. –ú–µ—Ç–æ–¥—ã –æ–±—ä–µ–∫—Ç–æ–≤</h3>
            <p>–ü—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –º–µ—Ç–æ–¥–∞ –æ–±—ä–µ–∫—Ç–∞ (<code>obj.method()</code>), <code>this</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç.</p>
          </div>
          <div class="principle">
            <h3>4. –ü—Ä–æ—Å—Ç–æ–π –≤—ã–∑–æ–≤</h3>
            <p>–ü—Ä–∏ –ø—Ä–æ—Å—Ç–æ–º –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ (<code>func()</code>) –≤ –Ω–µ—Å—Ç—Ä–æ–≥–æ–º —Ä–µ–∂–∏–º–µ <code>this</code> —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç (window), –≤ —Å—Ç—Ä–æ–≥–æ–º —Ä–µ–∂–∏–º–µ ‚Äî <code>undefined</code>.</p>
          </div>
        </div>
      </div>
  
      <div class="solution-section">
        <h2>–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ</h2>
        <div class="step-controls">
          <button @click="prevStep" :disabled="currentStep <= 0">‚Üê –ù–∞–∑–∞–¥</button>
          <span class="step-indicator">–®–∞–≥ {{ currentStep + 1 }} –∏–∑ {{ steps.length }}</span>
          <button @click="nextStep" :disabled="currentStep >= steps.length - 1">–î–∞–ª–µ–µ ‚Üí</button>
        </div>
  
        <div class="execution-steps">
          <div class="execution-step" v-for="(step, index) in steps" :key="index" v-show="currentStep === index">
            <div class="step-header">
              <div class="step-title">{{ step.title }}</div>
              <div class="step-code">{{ step.code }}</div>
            </div>
            
            <div class="execution-visualization">
              <div class="memory-model">
                <div class="memory-section" v-if="step.memory.global">
                  <div class="section-title">–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å</div>
                  <div class="memory-object">
                    <div class="object-property" v-for="(value, key) in step.memory.global" :key="key">
                      <span class="property-name">{{ key }}:</span>
                      <span class="property-value">{{ value }}</span>
                    </div>
                  </div>
                </div>
                
                <div class="memory-section" v-if="step.memory.function">
                  <div class="section-title">–§—É–Ω–∫—Ü–∏—è foo</div>
                  <div class="memory-object">
                    <div class="object-property" v-for="(value, key) in step.memory.function" :key="key">
                      <span class="property-name">{{ key }}:</span>
                      <span class="property-value">{{ value }}</span>
                    </div>
                  </div>
                </div>
                
                <div class="memory-section" v-if="step.memory.returnObject">
                  <div class="section-title">–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç</div>
                  <div class="memory-object">
                    <div class="object-property" v-for="(value, key) in step.memory.returnObject" :key="key">
                      <span class="property-name">{{ key }}:</span>
                      <span class="property-value" v-if="typeof value !== 'object'">{{ value }}</span>
                      <span class="property-value method" v-else>{{ value.type }}</span>
                    </div>
                  </div>
                </div>
                
                <div class="memory-section" v-if="step.memory.obj1">
                  <div class="section-title">obj1</div>
                  <div class="memory-object">
                    <div class="object-property" v-for="(value, key) in step.memory.obj1" :key="key">
                      <span class="property-name">{{ key }}:</span>
                      <span class="property-value" v-if="typeof value !== 'object'">{{ value }}</span>
                      <span class="property-value method" v-else>{{ value.type }}</span>
                    </div>
                  </div>
                </div>
                
                <div class="memory-section" v-if="step.memory.obj2">
                  <div class="section-title">obj2</div>
                  <div class="memory-object">
                    <div class="object-property" v-for="(value, key) in step.memory.obj2" :key="key">
                      <span class="property-name">{{ key }}:</span>
                      <span class="property-value" v-if="typeof value !== 'object'">{{ value }}</span>
                      <span class="property-value method" v-else>{{ value.type }}</span>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="this-context" v-if="step.thisContext">
                <div class="context-title">–ö–æ–Ω—Ç–µ–∫—Å—Ç this –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏</div>
                <div class="context-value" :class="{ 'highlight': step.highlight === 'this' }">
                  {{ step.thisContext }}
                </div>
                <div class="context-arrow" v-if="step.thisTarget"></div>
                <div class="context-target" v-if="step.thisTarget">
                  {{ step.thisTarget }}
                </div>
              </div>
              
              <div class="console-output" v-if="step.output !== undefined">
                <div class="output-title">–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å</div>
                <div class="output-value" :class="{ 'highlight': step.highlight === 'output' }">
                  {{ step.output }}
                </div>
              </div>
            </div>
            
            <div class="step-explanation">
              <h3>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</h3>
              <p v-html="step.explanation"></p>
            </div>
          </div>
        </div>
      </div>
  
      <div class="algorithm-section">
        <h2>–ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è this</h2>
        <div class="algorithm-steps">
          <div class="algorithm-step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>–°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è?</h3>
              <p>–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è —Å—Ç—Ä–µ–ª–æ—á–Ω–∞—è (<code>() => {}</code>), —Ç–æ <code>this</code> –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≥–¥–µ —Ñ—É–Ω–∫—Ü–∏—è –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞.</p>
            </div>
          </div>
          <div class="algorithm-step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ call/apply/bind?</h3>
              <p>–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ <code>call</code>, <code>apply</code> –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∞ —á–µ—Ä–µ–∑ <code>bind</code>, —Ç–æ <code>this</code> —Ä–∞–≤–µ–Ω –ø–µ—Ä–≤–æ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç—É —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤.</p>
            </div>
          </div>
          <div class="algorithm-step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>–í—ã–∑–æ–≤ –∫–∞–∫ –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞?</h3>
              <p>–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞ (<code>obj.method()</code>), —Ç–æ <code>this</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç.</p>
            </div>
          </div>
          <div class="algorithm-step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3>–ü—Ä–æ—Å—Ç–æ–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏</h3>
              <p>–ü—Ä–∏ –æ–±—ã—á–Ω–æ–º –≤—ã–∑–æ–≤–µ (<code>func()</code>) –≤ —Å—Ç—Ä–æ–≥–æ–º —Ä–µ–∂–∏–º–µ <code>this</code> –±—É–¥–µ—Ç <code>undefined</code>, –≤ –Ω–µ—Å—Ç—Ä–æ–≥–æ–º ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="results-section">
        <h2>–ò—Ç–æ–≥–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã</h2>
        <div class="results-table">
          <table>
            <thead>
              <tr>
                <th>–í—ã–∑–æ–≤</th>
                <th>–í—ã–≤–æ–¥</th>
                <th>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>obj1.bar();</code></td>
                <td>20</td>
                <td>–û–±—ã—á–Ω—ã–π –º–µ—Ç–æ–¥, <code>this</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ <code>obj1</code>, –≥–¥–µ <code>x</code> —Ä–∞–≤–Ω–æ 20</td>
              </tr>
              <tr>
                <td><code>obj1.baz();</code></td>
                <td>undefined</td>
                <td>–°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, <code>this</code> –±–µ—Ä–µ—Ç—Å—è –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (–≥–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å)</td>
              </tr>
              <tr>
                <td><code>y();</code></td>
                <td>undefined</td>
                <td>–ü–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, <code>this</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç</td>
              </tr>
              <tr>
                <td><code>x();</code></td>
                <td>undefined</td>
                <td>–°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç <code>this</code> –∏–∑ –º–µ—Å—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–∑–æ–≤–∞</td>
              </tr>
              <tr>
                <td><code>obj2.bar();</code></td>
                <td>20</td>
                <td>–û–±—ã—á–Ω—ã–π –º–µ—Ç–æ–¥, <code>this</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ <code>obj2</code>, –≥–¥–µ <code>x</code> —Ä–∞–≤–Ω–æ 20</td>
              </tr>
              <tr>
                <td><code>obj2.baz();</code></td>
                <td>undefined</td>
                <td>–°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, <code>this</code> –±–µ—Ä–µ—Ç—Å—è –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (–≥–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å)</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="realworld-section">
        <h2>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö</h2>
        <div class="application-cases">
          <div class="case">
            <h3>1. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π</h3>
            <p>–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:</p>
            <pre class="code-example">// Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  methods: {
    saveData() {
      // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç—Ä–µ–ª–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å this
      apiService.post('/api/data', this.formData)
        .then(() => {
          this.showNotification('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!'); // this —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
        });
    }
  }</pre>
          </div>
          
          <div class="case">
            <h3>2. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–æ–≤</h3>
            <p>–í –∫–ª–∞—Å—Å–∞—Ö –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –æ–±—ã—á–Ω—ã–º–∏ –∏ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏:</p>
            <pre class="code-example">class Button {
    constructor(text) {
      this.text = text;
      this.element = document.createElement('button');
      this.element.textContent = text;
      
      // –ü–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –º–µ—Ç–æ–¥–∞ –∫–∞–∫ –∫–æ–ª–±—ç–∫–∞
      this.element.addEventListener('click', this.onClick); // –ù–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
      
      // –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å bind –∏–ª–∏ —Å—Ç—Ä–µ–ª–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
      this.element.addEventListener('click', this.onClick.bind(this));
      // –∏–ª–∏
      this.element.addEventListener('click', () => this.onClick());
    }
    
    onClick() {
      console.log(`–ö–Ω–æ–ø–∫–∞ "${this.text}" –Ω–∞–∂–∞—Ç–∞`);
    }
  }</pre>
          </div>
          
          <div class="case">
            <h3>3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <p>–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–µ—Ç–æ–¥–∞–º–∏ –º–∞—Å—Å–∏–≤–æ–≤ –≤–∞–∂–Ω–æ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç:</p>
            <pre class="code-example">const users = [
    { name: '–ò–≤–∞–Ω', age: 28 },
    { name: '–ú–∞—Ä–∏—è', age: 32 }
  ];
  
  // UserService –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
  const UserService = {
    minAge: 18,
    
    getAdults(users) {
      // this –±—É–¥–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ UserService
      return users.filter(function(user) {
        return user.age >= this.minAge;  // –û—à–∏–±–∫–∞ - this –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ UserService!
      });
    },
    
    // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
    getAdultsFixed(users) {
      // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç—Ä–µ–ª–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
      return users.filter(user => user.age >= this.minAge);
    }
  };</pre>
          </div>
        </div>
      </div>
  
      <div class="summary-section">
        <h2>–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</h2>
        <div class="key-rules">
          <div class="rule">
            <div class="rule-icon">üìå</div>
            <div class="rule-content">
              <h3>–°–ø–æ—Å–æ–± –≤—ã–∑–æ–≤–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç this</h3>
              <p>–ó–Ω–∞—á–µ–Ω–∏–µ <code>this</code> –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, <strong>–∫–∞–∫</strong> –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è, –∞ –Ω–µ –æ—Ç —Ç–æ–≥–æ, –≥–¥–µ –æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.</p>
            </div>
          </div>
          <div class="rule">
            <div class="rule-icon">üìå</div>
            <div class="rule-content">
              <h3>–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞—é—Ç" this</h3>
              <p>–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç <code>this</code> –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≥–¥–µ –æ–Ω–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã, –∏ –Ω–∏–∫–æ–≥–¥–∞ –µ–≥–æ –Ω–µ –º–µ–Ω—è—é—Ç.</p>
            </div>
          </div>
          <div class="rule">
            <div class="rule-icon">üìå</div>
            <div class="rule-content">
              <h3>–ú–µ—Ç–æ–¥—ã —Ç–µ—Ä—è—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏</h3>
              <p>–ö–æ–≥–¥–∞ –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (<code>const func = obj.method</code>) –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –æ–Ω —Ç–µ—Ä—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç.</p>
            </div>
          </div>
          <div class="rule">
            <div class="rule-icon">üìå</div>
            <div class="rule-content">
              <h3>call/apply/bind –∏–∑–º–µ–Ω—è—é—Ç this</h3>
              <p>–≠—Ç–∏ –º–µ—Ç–æ–¥—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, —á–µ–º—É –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–≤–µ–Ω <code>this</code> –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </template>
  
  <script setup>
  import { ref } from 'vue';
  
  const currentStep = ref(0);
  
  const steps = [
    {
      title: "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ foo",
      code: "function foo() { ... }",
      memory: {
        function: {
          "x": 10
        },
        returnObject: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      explanation: "–§—É–Ω–∫—Ü–∏—è <code>foo</code> –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é <code>x = 10</code> –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å —Ç—Ä–µ–º—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏: <code>x = 20</code>, –º–µ—Ç–æ–¥ <code>bar</code> (–æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è) –∏ –º–µ—Ç–æ–¥ <code>baz</code> (—Å—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è). –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è <code>x = 10</code> –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è."
    },
    {
      title: "–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ obj1",
      code: "const obj1 = foo();",
      memory: {
        function: {
          "x": 10
        },
        obj1: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      explanation: "–í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é <code>foo</code> –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é <code>obj1</code>. –û–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ–π—Å—Ç–≤–æ <code>x</code> —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 20 –∏ –¥–≤–∞ –º–µ—Ç–æ–¥–∞."
    },
    {
      title: "–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ obj1.bar()",
      code: "obj1.bar();",
      memory: {
        obj1: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      thisContext: "{ x: 20, bar: function(), baz: () => {} }",
      thisTarget: "obj1",
      output: 20,
      highlight: "output",
      explanation: "–í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ <code>bar</code> –æ–±—ä–µ–∫—Ç–∞ <code>obj1</code>. –¢–∞–∫ –∫–∞–∫ —ç—Ç–æ –æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –≤—ã–∑–≤–∞–Ω–Ω–∞—è –∫–∞–∫ –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞, <code>this</code> –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ <code>obj1</code>. –ü–æ—ç—Ç–æ–º—É <code>this.x</code> —Ä–∞–≤–Ω–æ 20, –∏ –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è 20."
    },
    {
      title: "–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ obj1.baz()",
      code: "obj1.baz();",
      memory: {
        global: {
          "x": undefined
        },
        obj1: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      thisContext: "window (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç)",
      thisTarget: "global",
      output: "undefined",
      highlight: "output",
      explanation: "–í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ <code>baz</code> –æ–±—ä–µ–∫—Ç–∞ <code>obj1</code>. –¢–∞–∫ –∫–∞–∫ —ç—Ç–æ <strong>—Å—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</strong>, –æ–Ω–∞ –Ω–µ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ <code>this</code> –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <code>this</code> –∏–∑ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≥–¥–µ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —Ñ—É–Ω–∫—Ü–∏—è <code>baz</code> –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ <code>foo</code>, –≥–¥–µ <code>this</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç (window). –í –≥–ª–æ–±–∞–ª—å–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ –Ω–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ <code>x</code>, –ø–æ—ç—Ç–æ–º—É <code>this.x</code> —Ä–∞–≤–Ω–æ <code>undefined</code>, –∏ –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è <code>undefined</code>."
    },
    {
      title: "–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ foo.call({ x: 30 })",
      code: "const obj2 = foo.call({ x: 30 });",
      memory: {
        global: {
          "x": undefined
        },
        function: {
          "x": 10
        },
        obj2: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      thisContext: "{ x: 30 }",
      explanation: "–í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é <code>foo</code> —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ <code>call</code>, –ø–µ—Ä–µ–¥–∞–≤–∞—è –æ–±—ä–µ–∫—Ç <code>{ x: 30 }</code> –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ <code>this</code>. –û–¥–Ω–∞–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ <code>foo</code> –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º <code>this</code> –Ω–∞–ø—Ä—è–º—É—é, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ—Ç –≤—ã–∑–æ–≤ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç. <code>obj2</code> –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Ç–∞–∫—É—é –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–∞–∫ –∏ <code>obj1</code>."
    },
    {
      title: "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ",
      code: "let y = obj2.bar;\nlet x = obj2.baz;",
      memory: {
        global: {
          "x": "—Ñ—É–Ω–∫—Ü–∏—è baz –∏–∑ obj2",
          "y": "—Ñ—É–Ω–∫—Ü–∏—è bar –∏–∑ obj2"
        },
        obj2: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      explanation: "–°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–µ—Ç–æ–¥—ã <code>obj2.bar</code> –∏ <code>obj2.baz</code> –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ <code>y</code> –∏ <code>x</code> —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –º—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏, –æ—Ç–¥–µ–ª—è—è –∏—Ö –æ—Ç –æ–±—ä–µ–∫—Ç–∞ <code>obj2</code>."
    },
    {
      title: "–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ y()",
      code: "y();",
      memory: {
        global: {
          "x": "—Ñ—É–Ω–∫—Ü–∏—è baz –∏–∑ obj2",
          "y": "—Ñ—É–Ω–∫—Ü–∏—è bar –∏–∑ obj2"
        },
        obj2: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      thisContext: "window (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç)",
      thisTarget: "global",
      output: "undefined",
      highlight: "output",
      explanation: "–í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é <code>y</code>, –∫–æ—Ç–æ—Ä–∞—è —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Ç–æ–¥ <code>bar</code> –æ–±—ä–µ–∫—Ç–∞ <code>obj2</code>. –ù–æ —Ç–∞–∫ –∫–∞–∫ –º—ã –≤—ã–∑—ã–≤–∞–µ–º –µ—ë –∫–∞–∫ –æ–±—ã—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é (–Ω–µ –∫–∞–∫ –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞), <code>this</code> –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç. –í –≥–ª–æ–±–∞–ª—å–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ –Ω–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ <code>x</code> (–∏–ª–∏ –æ–Ω–æ —Ä–∞–≤–Ω–æ <code>undefined</code>), –ø–æ—ç—Ç–æ–º—É <code>this.x</code> —Ä–∞–≤–Ω–æ <code>undefined</code>, –∏ –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è <code>undefined</code>."
    },
    {
      title: "–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ x()",
      code: "x();",
      memory: {
        global: {
          "x": "—Ñ—É–Ω–∫—Ü–∏—è baz –∏–∑ obj2",
          "y": "—Ñ—É–Ω–∫—Ü–∏—è bar –∏–∑ obj2"
        },
        obj2: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      thisContext: "window (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç)",
      thisTarget: "global",
      output: "undefined",
      highlight: "output",
      explanation: "–í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é <code>x</code>, –∫–æ—Ç–æ—Ä–∞—è —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Ç–æ–¥ <code>baz</code> –æ–±—ä–µ–∫—Ç–∞ <code>obj2</code>. –¢–∞–∫ –∫–∞–∫ <code>baz</code> - —ç—Ç–æ —Å—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –æ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç <code>this</code> –∏–∑ –º–µ—Å—Ç–∞, –≥–¥–µ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ (–≤–Ω—É—Ç—Ä–∏ <code>foo</code>), –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–ø–æ—Å–æ–±–∞ –≤—ã–∑–æ–≤–∞. <code>this</code> –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∏ <code>this.x</code> —Ä–∞–≤–Ω–æ <code>undefined</code>."
    },
    {
      title: "–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ obj2.bar()",
      code: "obj2.bar();",
      memory: {
        obj2: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      thisContext: "{ x: 20, bar: function(), baz: () => {} }",
      thisTarget: "obj2",
      output: 20,
      highlight: "output",
      explanation: "–í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ <code>bar</code> –æ–±—ä–µ–∫—Ç–∞ <code>obj2</code>. –¢–∞–∫ –∫–∞–∫ —ç—Ç–æ –æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –≤—ã–∑–≤–∞–Ω–Ω–∞—è –∫–∞–∫ –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞, <code>this</code> –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ <code>obj2</code>. –ü–æ—ç—Ç–æ–º—É <code>this.x</code> —Ä–∞–≤–Ω–æ 20, –∏ –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è 20."
    },
    {
      title: "–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ obj2.baz()",
      code: "obj2.baz();",
      memory: {
        global: {
          "x": "—Ñ—É–Ω–∫—Ü–∏—è baz –∏–∑ obj2"
        },
        obj2: {
          "x": 20,
          "bar": { type: "function() { console.log(this.x); }" },
          "baz": { type: "() => { console.log(this.x); }" }
        }
      },
      thisContext: "window (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç)",
      thisTarget: "global",
      output: "undefined",
      highlight: "output",
      explanation: "–í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ <code>baz</code> –æ–±—ä–µ–∫—Ç–∞ <code>obj2</code>. –•–æ—Ç—å –º—ã –∏ –≤—ã–∑—ã–≤–∞–µ–º –µ–≥–æ –∫–∞–∫ –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞, –Ω–æ —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –æ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç <code>this</code> –∏–∑ –º–µ—Å—Ç–∞, –≥–¥–µ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ (–≤–Ω—É—Ç—Ä–∏ <code>foo</code>). <code>this</code> –≤–Ω—É—Ç—Ä–∏ <code>foo</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, –ø–æ—ç—Ç–æ–º—É <code>this.x</code> —Ä–∞–≤–Ω–æ <code>undefined</code>, –∏ –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è <code>undefined</code>."
    }
  ];
  
  function nextStep() {
    if (currentStep.value < steps.length - 1) {
      currentStep.value++;
    }
  }
  
  function prevStep() {
    if (currentStep.value > 0) {
      currentStep.value--;
    }
  }
  </script>
  
  <style scoped>
  .this-explorer {
    font-family: Arial, Helvetica, sans-serif;
    max-width: 100%;
    margin: 0 auto;
    padding: 20px;
    color: #000;
    background-color: #fff;
  }
  
  h1, h2, h3, h4 {
    color: #000;
  }
  
  h1 {
    text-align: center;
    font-size: 1.8rem;
    margin-bottom: 30px;
  }
  
  h2 {
    font-size: 1.5rem;
    margin-top: 40px;
    margin-bottom: 20px;
    border-bottom: 2px solid #eee;
    padding-bottom: 10px;
  }
  
  h3 {
    font-size: 1.2rem;
    margin-top: 20px;
    margin-bottom: 10px;
  }
  
  p {
    line-height: 1.6;
    margin-bottom: 15px;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', monospace;
    background-color: #f5f5f5;
    padding: 2px 5px;
    border-radius: 3px;
    font-size: 0.9em;
  }
  
  .problem-statement {
    margin-bottom: 30px;
  }
  
  .code-block {
    background-color: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 15px;
    overflow-x: auto;
    font-family: Consolas, Monaco, 'Andale Mono', monospace;
    font-size: 14px;
    line-height: 1.5;
    margin: 15px 0;
    white-space: pre;
  }
  
  .principles {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }
  
  .principle {
    background-color: #f9f9f9;
    border: 1px solid #eee;
    border-radius: 5px;
    padding: 15px;
  }
  
  .principle h3 {
    margin-top: 0;
    color: #333;
  }
  
  .step-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  
  .step-controls button {
    background-color: #4CAF50;
    border: none;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  
  .step-controls button:hover {
    background-color: #45a049;
  }
  
  .step-controls button:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
  }
  
  .step-indicator {
    font-weight: bold;
  }
  
  .execution-step {
    margin-bottom: 30px;
    animation: fadeIn 0.5s;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  .step-header {
    background-color: #f5f5f5;
    padding: 15px;
    border-radius: 5px;
    margin-bottom: 20px;
  }
  
  .step-title {
    font-weight: bold;
    font-size: 1.1rem;
    margin-bottom: 10px;
  }
  
  .step-code {
    font-family: Consolas, Monaco, 'Andale Mono', monospace;
    background-color: #2d2d2d;
    color: #f8f8f2;
    padding: 10px;
    border-radius: 3px;
  }
  
  .execution-visualization {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 20px;
  }
  
  .memory-model {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
  }
  
  .memory-section {
    border: 1px solid #ddd;
    border-radius: 5px;
    overflow: hidden;
  }
  
  .section-title {
    background-color: #4CAF50;
    color: white;
    padding: 8px 12px;
    font-weight: bold;
  }
  
  .memory-object {
    padding: 15px;
  }
  
  .object-property {
    margin-bottom: 8px;
    font-family: Consolas, Monaco, 'Andale Mono', monospace;
  }
  
  .property-name {
    font-weight: bold;
    color: #333;
  }
  
  .property-value {
    margin-left: 5px;
    color: #2c3e50;
  }
  
  .property-value.method {
    color: #e74c3c;
    font-size: 0.9em;
  }
  
  .this-context {
    background-color: #e8f4f8;
    border: 1px solid #b8daff;
    border-radius: 5px;
    padding: 15px;
    position: relative;
  }
  
  .context-title {
    font-weight: bold;
    margin-bottom: 10px;
    color: #0c5460;
  }
  
  .context-value {
    padding: 8px 12px;
    background-color: #d1ecf1;
    border-radius: 3px;
    margin-bottom: 10px;
    font-family: Consolas, Monaco, 'Andale Mono', monospace;
    transition: all 0.3s;
  }
  
  .context-value.highlight {
    background-color: #c3e6cb;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
  }
  
  .context-arrow {
    height: 20px;
    border-left: 2px dashed #4CAF50;
    margin-left: 50%;
  }
  
  .context-target {
    padding: 8px 12px;
    background-color: #d4edda;
    border-radius: 3px;
    text-align: center;
    font-family: Consolas, Monaco, 'Andale Mono', monospace;
  }
  
  .console-output {
    background-color: #2d2d2d;
    color: #f8f8f2;
    border-radius: 5px;
    padding: 15px;
  }
  
  .output-title {
    font-weight: bold;
    margin-bottom: 10px;
    color: #adb5bd;
  }
  
  .output-value {
    font-family: Consolas, Monaco, 'Andale Mono', monospace;
    padding: 8px 12px;
    background-color: #343a40;
    border-radius: 3px;
    transition: all 0.3s;
  }
  
  .output-value.highlight {
    background-color: #495057;
    color: #20c997;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
    font-weight: bold;
  }
  
  .step-explanation {
    background-color: #f8f9fa;
    border-left: 4px solid #4CAF50;
    padding: 15px;
    margin-top: 20px;
  }
  
  .algorithm-steps {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 20px;
  }
  
  .algorithm-step {
    display: flex;
    gap: 15px;
    background-color: #f9f9f9;
    border: 1px solid #eee;
    border-radius: 5px;
    padding: 15px;
  }
  
  .step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 30px;
    height: 30px;
    background-color: #4CAF50;
    color: white;
    border-radius: 50%;
    font-weight: bold;
    flex-shrink: 0;
  }
  
  .step-content {
    flex: 1;
  }
  
  .step-content h3 {
    margin-top: 0;
  }
  
  .results-table {
    overflow-x: auto;
    margin-top: 20px;
  }
  
  table {
    width: 100%;
    border-collapse: collapse;
  }
  
  th, td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: left;
  }
  
  th {
    background-color: #4CAF50;
    color: white;
  }
  
  tr:nth-child(even) {
    background-color: #f2f2f2;
  }
  
  .application-cases {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-top: 20px;
  }
  
  .case {
    background-color: #f9f9f9;
    border: 1px solid #eee;
    border-radius: 5px;
    padding: 15px;
  }
  
  .code-example {
    background-color: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 15px;
    overflow-x: auto;
    font-family: Consolas, Monaco, 'Andale Mono', monospace;
    font-size: 14px;
    line-height: 1.5;
    margin: 15px 0;
    white-space: pre;
  }
  
  .key-rules {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }
  
  .rule {
    display: flex;
    gap: 15px;
    background-color: #f9f9f9;
    border: 1px solid #eee;
    border-radius: 5px;
    padding: 15px;
  }
  
  .rule-icon {
    font-size: 1.5rem;
    color: #4CAF50;
  }
  
  .rule-content {
    flex: 1;
  }
  
  .rule-content h3 {
    margin-top: 0;
    color: #333;
  }
  
  /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
  @media (max-width: 768px) {
    .principles {
      grid-template-columns: 1fr;
    }
    
    .memory-model {
      grid-template-columns: 1fr;
    }
    
    .key-rules {
      grid-template-columns: 1fr;
    }
  }
  </style>