<template>
    <div class="promise-explorer">
      <h1>JavaScript Promise: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</h1>
      
      <div class="tabs">
        <button 
          v-for="(tab, index) in tabs" 
          :key="index"
          :class="{ active: currentTab === index }"
          @click="switchTab(index)"
          class="tab-button"
        >
          {{ tab.title }}
        </button>
      </div>
      
      <div class="content-container">
        <!-- 1. –ß—Ç–æ —Ç–∞–∫–æ–µ Promise -->
        <div v-if="currentTab === 0" class="tab-content">
          <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ <span class="highlight">Promise</span>?</h2>
          
          <div class="explanation">
            <p>Promise –≤ JavaScript ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω —Å–µ–π—á–∞—Å, –≤ –±—É–¥—É—â–µ–º –∏–ª–∏ –Ω–∏–∫–æ–≥–¥–∞.</p>
            <p>Promise –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –∏–∑ —Ç—Ä–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π:</p>
            <ul>
              <li><strong>–û–∂–∏–¥–∞–Ω–∏–µ (pending)</strong>: –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.</li>
              <li><strong>–í—ã–ø–æ–ª–Ω–µ–Ω–æ (fulfilled)</strong>: –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.</li>
              <li><strong>–û—Ç–∫–ª–æ–Ω–µ–Ω–æ (rejected)</strong>: –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –æ—à–∏–±–∫–æ–π.</li>
            </ul>
          </div>
          
          <div class="promise-animation">
            <h3>–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Promise</h3>
            <div class="animation-container">
              <div class="promise-state-wrapper">
                <div class="promise-state" :class="currentState">
                  <div class="state-icon pending" v-if="currentState === 'pending'">‚è≥</div>
                  <div class="state-icon fulfilled" v-if="currentState === 'fulfilled'">‚úÖ</div>
                  <div class="state-icon rejected" v-if="currentState === 'rejected'">‚ùå</div>
                  <div class="state-label">{{ stateLabels[currentState] }}</div>
                </div>
              </div>
              
              <div class="control-buttons">
                <button @click="setState('pending')" :disabled="currentState === 'pending'" class="control-button pending">–û–∂–∏–¥–∞–Ω–∏–µ</button>
                <button @click="setState('fulfilled')" :disabled="currentState === 'fulfilled'" class="control-button fulfilled">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
                <button @click="setState('rejected')" :disabled="currentState === 'rejected'" class="control-button rejected">–û—Ç–∫–ª–æ–Ω–µ–Ω–æ</button>
                <button @click="animateStates" class="control-button animate">–ê–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å —Ü–∏–∫–ª</button>
              </div>
            </div>
          </div>
          
          <div class="code-container">
            <h3>–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
            <pre class="code javascript">
  // –°–æ–∑–¥–∞–Ω–∏–µ Promise
  const myPromise = new Promise((resolve, reject) => {
    // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
    setTimeout(() => {
      const success = Math.random() > 0.5;
      
      if (success) {
        resolve('–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');  // –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ fulfilled
      } else {
        reject('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞!');  // –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ rejected
      }
    }, 2000);
  });
  
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Promise
  myPromise
    .then(result => {
      console.log('–£—Å–ø–µ—Ö:', result);
    })
    .catch(error => {
      console.log('–û—à–∏–±–∫–∞:', error);
    })
    .finally(() => {
      console.log('–ó–∞–≤–µ—Ä—à–µ–Ω–æ (–≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ)');
    });
            </pre>
            <button @click="runPromiseExample" class="run-button">–ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
          </div>
          
          <div v-if="showExampleResult" class="result-container">
            <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</h3>
            <div class="console-output">
              <div v-for="(log, index) in exampleLogs" :key="index" class="log-item" :class="log.type">
                {{ log.message }}
              </div>
            </div>
          </div>
        </div>
        
        <!-- 2. –ú–µ—Ç–æ–¥—ã Promise -->
        <div v-if="currentTab === 1" class="tab-content">
          <h2>–ú–µ—Ç–æ–¥—ã <span class="highlight">Promise</span></h2>
          
          <div class="subtabs">
            <button 
              v-for="(subtab, index) in promiseMethods" 
              :key="index"
              :class="{ active: currentMethod === index }"
              @click="switchMethod(index)"
              class="subtab-button"
            >
              {{ subtab.name }}
            </button>
          </div>
          
          <div class="method-container">
            <h3>{{ promiseMethods[currentMethod].name }}</h3>
            <div class="method-description" v-html="promiseMethods[currentMethod].description"></div>
            
            <pre class="code javascript">{{ promiseMethods[currentMethod].code }}</pre>
            
            <div class="method-animation">
              <component :is="promiseMethods[currentMethod].component" />
            </div>
            
            <div class="method-notes">
              <h4>–í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:</h4>
              <ul>
                <li v-for="(note, index) in promiseMethods[currentMethod].notes" :key="index">
                  {{ note }}
                </li>
              </ul>
            </div>
          </div>
        </div>
        
        <!-- 3. –¶–µ–ø–æ—á–∫–∏ Promise -->
        <div v-if="currentTab === 2" class="tab-content">
          <h2>–¶–µ–ø–æ—á–∫–∏ <span class="highlight">Promise</span></h2>
          
          <div class="explanation">
            <p>–û–¥–Ω–æ –∏–∑ –≥–ª–∞–≤–Ω—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ Promise ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∏–∑–±–µ–≥–∞—è "–∞–¥–∞ –∫–æ–ª–±—ç–∫–æ–≤".</p>
          </div>
          
          <div class="chain-animation">
            <h3>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–ø–æ—á–∫–∏ Promise</h3>
            <div class="chain-container">
              <div class="promise-chain">
                <div 
                  v-for="(block, index) in chainBlocks" 
                  :key="index" 
                  class="chain-block"
                  :class="{ active: currentChainBlock >= index, completed: currentChainBlock > index }"
                >
                  <div class="block-content">
                    <div class="block-title">{{ block.title }}</div>
                    <div class="block-code">{{ block.code }}</div>
                  </div>
                  <div class="chain-connector" v-if="index < chainBlocks.length - 1">
                    <div class="connector-line"></div>
                    <div class="connector-arrow"></div>
                  </div>
                </div>
              </div>
              
              <div class="chain-controls">
                <button @click="resetChain" class="control-button">–°–±—Ä–æ—Å–∏—Ç—å</button>
                <button @click="nextChainStep" :disabled="currentChainBlock >= chainBlocks.length" class="control-button">–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥</button>
                <button @click="animateChain" class="control-button animate">–ê–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫—É</button>
              </div>
            </div>
          </div>
          
          <div class="comparison-container">
            <h3>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –∫–æ–ª–±—ç–∫–∏ vs. —Ü–µ–ø–æ—á–∫–∏ Promise</h3>
            <div class="code-comparison">
              <div class="callback-hell">
                <h4>–í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–±—ç–∫–∏ ("–∞–¥ –∫–æ–ª–±—ç–∫–æ–≤")</h4>
                <pre class="code javascript">
  // –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
  function getUserData(userId, callback) {
    setTimeout(() => {
      console.log('–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
      callback({ id: userId, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + userId });
    }, 1000);
  }
  
  function getUserPosts(user, callback) {
    setTimeout(() => {
      console.log('–ü–æ–ª—É—á–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
      callback([
        { title: '–ü–æ—Å—Ç 1', content: '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞ 1' },
        { title: '–ü–æ—Å—Ç 2', content: '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞ 2' }
      ]);
    }, 1000);
  }
  
  function getPostComments(post, callback) {
    setTimeout(() => {
      console.log('–ü–æ–ª—É—á–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É');
      callback([
        { author: '–ö–æ–º–º–µ–Ω—Ç–∞—Ç–æ—Ä 1', text: '–û—Ç–ª–∏—á–Ω—ã–π –ø–æ—Å—Ç!' },
        { author: '–ö–æ–º–º–µ–Ω—Ç–∞—Ç–æ—Ä 2', text: '–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ!' }
      ]);
    }, 1000);
  }
  
  // –ê–¥ –∫–æ–ª–±—ç–∫–æ–≤
  getUserData(123, function(user) {
    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
    
    getUserPosts(user, function(posts) {
      console.log('–ü–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', posts);
      
      getPostComments(posts[0], function(comments) {
        console.log('–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É:', comments);
        
        // –ó–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å –µ—â–µ –º–Ω–æ–≥–æ —É—Ä–æ–≤–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
      });
    });
  });
                </pre>
              </div>
              
              <div class="promise-chain-code">
                <h4>–¶–µ–ø–æ—á–∫–∞ Promise</h4>
                <pre class="code javascript">
  // –¢–µ –∂–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω–æ —Å Promise
  function getUserData(userId) {
    return new Promise((resolve) => {
      setTimeout(() => {
        console.log('–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
        resolve({ id: userId, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + userId });
      }, 1000);
    });
  }
  
  function getUserPosts(user) {
    return new Promise((resolve) => {
      setTimeout(() => {
        console.log('–ü–æ–ª—É—á–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
        resolve([
          { title: '–ü–æ—Å—Ç 1', content: '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞ 1' },
          { title: '–ü–æ—Å—Ç 2', content: '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞ 2' }
        ]);
      }, 1000);
    });
  }
  
  function getPostComments(post) {
    return new Promise((resolve) => {
      setTimeout(() => {
        console.log('–ü–æ–ª—É—á–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É');
        resolve([
          { author: '–ö–æ–º–º–µ–Ω—Ç–∞—Ç–æ—Ä 1', text: '–û—Ç–ª–∏—á–Ω—ã–π –ø–æ—Å—Ç!' },
          { author: '–ö–æ–º–º–µ–Ω—Ç–∞—Ç–æ—Ä 2', text: '–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ!' }
        ]);
      }, 1000);
    });
  }
  
  // –¶–µ–ø–æ—á–∫–∞ Promise - –ø–ª–æ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
  getUserData(123)
    .then(user => {
      console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
      return getUserPosts(user);
    })
    .then(posts => {
      console.log('–ü–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', posts);
      return getPostComments(posts[0]);
    })
    .then(comments => {
      console.log('–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É:', comments);
      // –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —à–∞–≥–∏ –≤ —Ü–µ–ø–æ—á–∫—É
    })
    .catch(error => {
      console.error('–û—à–∏–±–∫–∞:', error);
    });
                </pre>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 4. Async/Await -->
        <div v-if="currentTab === 3" class="tab-content">
          <h2><span class="highlight">Async/Await</span> ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –¥–ª—è Promise</h2>
          
          <div class="explanation">
            <p><code>async/await</code> ‚Äî —ç—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ–≤–µ—Ä—Ö Promise, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–º –∏ –ø–æ—Ö–æ–∂–∏–º –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π.</p>
          </div>
          
          <div class="async-animation">
            <h3>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ Promise –≤ async/await</h3>
            <div class="transform-container">
              <div class="transform-steps">
                <div 
                  v-for="(step, index) in transformSteps" 
                  :key="index" 
                  class="transform-step"
                  :class="{ active: currentTransformStep >= index, complete: currentTransformStep > index }"
                >
                  <div class="step-number">{{ index + 1 }}</div>
                  <div class="step-content">
                    <div class="step-title">{{ step.title }}</div>
                    <div class="step-description">{{ step.description }}</div>
                  </div>
                </div>
              </div>
              
              <div class="transform-code-container">
                <div class="code-transition">
                  <div class="transition-code" :style="{ transform: `translateY(-${currentTransformStep * 100}%)` }">
                    <div class="code-step" v-for="(step, index) in transformSteps" :key="index">
                      <pre class="code javascript">{{ step.code }}</pre>
                    </div>
                  </div>
                </div>
                
                <div class="transform-controls">
                  <button @click="prevTransformStep" :disabled="currentTransformStep <= 0" class="control-button">–ù–∞–∑–∞–¥</button>
                  <button @click="nextTransformStep" :disabled="currentTransformStep >= transformSteps.length - 1" class="control-button">–í–ø–µ—Ä–µ–¥</button>
                  <button @click="animateTransform" class="control-button animate">–ê–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —à–∞–≥–∏</button>
                </div>
              </div>
            </div>
          </div>
          
          <div class="key-points">
            <h3>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã async/await</h3>
            <ul>
              <li><strong>async</strong> ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –Ω–µ—Ç await.</li>
              <li><strong>await</strong> ‚Äî –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Promise.</li>
              <li>–ö–æ–¥ —Å <code>await</code> –≤—ã–≥–ª—è–¥–∏—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º, –Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.</li>
              <li>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ <code>try/catch</code>, –∫–∞–∫ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ.</li>
              <li>–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>await</code> —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ <code>async</code> —Ñ—É–Ω–∫—Ü–∏–π.</li>
            </ul>
          </div>
          
          <div class="code-example">
            <h3>–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å async/await</h3>
            <pre class="code javascript">
  // –§—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ Promise
  function fetchUser(id) {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        if (id > 0) {
          resolve({ id, name: `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${id}` });
        } else {
          reject(new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'));
        }
      }, 1000);
    });
  }
  
  function fetchUserPosts(user) {
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve([
          { id: 1, title: '–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç' },
          { id: 2, title: '–í—Ç–æ—Ä–æ–π –ø–æ—Å—Ç' }
        ]);
      }, 1000);
    });
  }
  
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ async/await
  async function loadUserData(userId) {
    try {
      console.log('–ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...');
      
      // Await –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–∫–∞ Promise –Ω–µ —Ä–∞–∑—Ä–µ—à–∏—Ç—Å—è
      const user = await fetchUser(userId);
      console.log('–ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
      
      const posts = await fetchUserPosts(user);
      console.log('–ó–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', posts);
      
      return { user, posts }; // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
    } catch (error) {
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏–∑ –ª—é–±–æ–≥–æ –∏–∑ Promise
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error.message);
      throw error; // –ú–æ–∂–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ
    }
  }
  
  // –í—ã–∑–æ–≤ async —Ñ—É–Ω–∫—Ü–∏–∏
  loadUserData(1)
    .then(data => console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', data))
    .catch(error => console.error('–û—à–∏–±–∫–∞:', error));
  
  // –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å await –≤ –¥—Ä—É–≥–æ–π async —Ñ—É–Ω–∫—Ü–∏–∏
  async function init() {
    try {
      const data = await loadUserData(1);
      console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏:', data);
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
    }
  }
  
  init();
            </pre>
            <button @click="runAsyncExample" class="run-button">–ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
          </div>
          
          <div v-if="showAsyncResult" class="result-container">
            <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</h3>
            <div class="console-output">
              <div v-for="(log, index) in asyncLogs" :key="index" class="log-item" :class="log.type">
                {{ log.message }}
              </div>
            </div>
          </div>
        </div>
        
        <!-- 5. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã -->
        <div v-if="currentTab === 4" class="tab-content">
          <h2>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è <span class="highlight">Promise</span></h2>
          
          <div class="subtabs">
            <button 
              v-for="(subtab, index) in practicalExamples" 
              :key="index"
              :class="{ active: currentExample === index }"
              @click="switchExample(index)"
              class="subtab-button"
            >
              {{ subtab.title }}
            </button>
          </div>
          
          <div class="example-container">
            <h3>{{ practicalExamples[currentExample].title }}</h3>
            <div class="example-description" v-html="practicalExamples[currentExample].description"></div>
            
            <pre class="code javascript">{{ practicalExamples[currentExample].code }}</pre>
            
            <div class="example-visualization">
              <component :is="practicalExamples[currentExample].component" />
            </div>
            
            <div class="example-tips">
              <h4>–°–æ–≤–µ—Ç—ã:</h4>
              <ul>
                <li v-for="(tip, index) in practicalExamples[currentExample].tips" :key="index">
                  {{ tip }}
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </template>

<script setup>
import { ref, onBeforeUnmount, defineComponent } from 'vue';

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤ Promise
const ThenCatchComponent = defineComponent({
  template: `
    <div class="then-catch-visualization">
      <div class="promise-flow">
        <div class="promise-box" :class="state">
          <div class="promise-title">Promise</div>
          <div class="promise-value">{{ value }}</div>
          <div class="promise-state">{{ stateLabel }}</div>
        </div>
        
        <div class="handlers-container">
          <div class="handler then-handler" :class="{ active: showThen }">
            <div class="handler-title">.then()</div>
            <div class="handler-content">{{ thenResult }}</div>
          </div>
          
          <div class="handler catch-handler" :class="{ active: showCatch }">
            <div class="handler-title">.catch()</div>
            <div class="handler-content">{{ catchResult }}</div>
          </div>
        </div>
      </div>
      
      <div class="visualization-controls">
        <button @click="resolvePromise" :disabled="state !== 'pending'" class="control-button success">–í—ã–ø–æ–ª–Ω–∏—Ç—å Promise</button>
        <button @click="rejectPromise" :disabled="state !== 'pending'" class="control-button danger">–û—Ç–∫–ª–æ–Ω–∏—Ç—å Promise</button>
        <button @click="reset" :disabled="state === 'pending'" class="control-button">–°–±—Ä–æ—Å–∏—Ç—å</button>
      </div>
    </div>
  `,
  setup() {
    const state = ref('pending');
    const value = ref('...');
    const stateLabel = ref('–í –æ–∂–∏–¥–∞–Ω–∏–∏');
    const showThen = ref(false);
    const showCatch = ref(false);
    const thenResult = ref('');
    const catchResult = ref('');
    
    function resolvePromise() {
      state.value = 'fulfilled';
      value.value = '"–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã"';
      stateLabel.value = '–í—ã–ø–æ–ª–Ω–µ–Ω–æ';
      
      setTimeout(() => {
        showThen.value = true;
        thenResult.value = '–û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞';
      }, 1000);
    }
    
    function rejectPromise() {
      state.value = 'rejected';
      value.value = '"–û—à–∏–±–∫–∞!"';
      stateLabel.value = '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ';
      
      setTimeout(() => {
        showCatch.value = true;
        catchResult.value = '–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏';
      }, 1000);
    }
    
    function reset() {
      state.value = 'pending';
      value.value = '...';
      stateLabel.value = '–í –æ–∂–∏–¥–∞–Ω–∏–∏';
      showThen.value = false;
      showCatch.value = false;
      thenResult.value = '';
      catchResult.value = '';
    }
    
    return {
      state,
      value,
      stateLabel,
      showThen,
      showCatch,
      thenResult,
      catchResult,
      resolvePromise,
      rejectPromise,
      reset
    };
  }
});

const AllMethodsComponent = defineComponent({
  template: `
    <div class="all-methods-visualization">
      <div class="promises-container">
        <div 
          v-for="(promise, index) in promises" 
          :key="index" 
          class="promise-item"
          :class="promise.state"
        >
          <div class="promise-title">Promise {{ index + 1 }}</div>
          <div class="promise-value">{{ promise.value }}</div>
          <div class="promise-state">{{ promise.stateLabel }}</div>
        </div>
      </div>
      
      <div class="method-result" :class="{ active: showResult }">
        <div class="result-title">{{ resultTitle }}</div>
        <div class="result-value">{{ resultValue }}</div>
      </div>
      
      <div class="visualization-controls">
        <button @click="resolveP1" :disabled="promises[0].state !== 'pending'" class="control-button small">–í—ã–ø–æ–ª–Ω–∏—Ç—å P1</button>
        <button @click="rejectP1" :disabled="promises[0].state !== 'pending'" class="control-button small danger">–û—Ç–∫–ª–æ–Ω–∏—Ç—å P1</button>
        <button @click="resolveP2" :disabled="promises[1].state !== 'pending'" class="control-button small">–í—ã–ø–æ–ª–Ω–∏—Ç—å P2</button>
        <button @click="rejectP2" :disabled="promises[1].state !== 'pending'" class="control-button small danger">–û—Ç–∫–ª–æ–Ω–∏—Ç—å P2</button>
        <button @click="resolveP3" :disabled="promises[2].state !== 'pending'" class="control-button small">–í—ã–ø–æ–ª–Ω–∏—Ç—å P3</button>
        <button @click="rejectP3" :disabled="promises[2].state !== 'pending'" class="control-button small danger">–û—Ç–∫–ª–æ–Ω–∏—Ç—å P3</button>
        <button @click="reset" class="control-button">–°–±—Ä–æ—Å–∏—Ç—å</button>
      </div>
    </div>
  `,
  props: {
    method: {
      type: String,
      default: 'all'
    }
  },
  setup(props) {
    const promises = ref([
      { state: 'pending', value: '...', stateLabel: '–í –æ–∂–∏–¥–∞–Ω–∏–∏' },
      { state: 'pending', value: '...', stateLabel: '–í –æ–∂–∏–¥–∞–Ω–∏–∏' },
      { state: 'pending', value: '...', stateLabel: '–í –æ–∂–∏–¥–∞–Ω–∏–∏' }
    ]);
    
    const showResult = ref(false);
    const resultTitle = ref('');
    const resultValue = ref('');
    
    function resolveP1() {
      updatePromise(0, 'fulfilled', '"–î–∞–Ω–Ω—ã–µ 1"', '–í—ã–ø–æ–ª–Ω–µ–Ω–æ');
      checkMethod();
    }
    
    function rejectP1() {
      updatePromise(0, 'rejected', '"–û—à–∏–±–∫–∞ 1!"', '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ');
      checkMethod();
    }
    
    function resolveP2() {
      updatePromise(1, 'fulfilled', '"–î–∞–Ω–Ω—ã–µ 2"', '–í—ã–ø–æ–ª–Ω–µ–Ω–æ');
      checkMethod();
    }
    
    function rejectP2() {
      updatePromise(1, 'rejected', '"–û—à–∏–±–∫–∞ 2!"', '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ');
      checkMethod();
    }
    
    function resolveP3() {
      updatePromise(2, 'fulfilled', '"–î–∞–Ω–Ω—ã–µ 3"', '–í—ã–ø–æ–ª–Ω–µ–Ω–æ');
      checkMethod();
    }
    
    function rejectP3() {
      updatePromise(2, 'rejected', '"–û—à–∏–±–∫–∞ 3!"', '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ');
      checkMethod();
    }
    
    function updatePromise(index, state, value, stateLabel) {
      promises.value[index] = { state, value, stateLabel };
    }
    
    function checkMethod() {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
      const allSettled = promises.value.every(p => p.state !== 'pending');
      const allResolved = promises.value.every(p => p.state === 'fulfilled');
      const anyRejected = promises.value.some(p => p.state === 'rejected');
      const anyResolved = promises.value.some(p => p.state === 'fulfilled');
      
      if (props.method === 'all' && allResolved) {
        showResult.value = true;
        resultTitle.value = 'Promise.all()';
        resultValue.value = '[–î–∞–Ω–Ω—ã–µ 1, –î–∞–Ω–Ω—ã–µ 2, –î–∞–Ω–Ω—ã–µ 3]';
      } else if (props.method === 'all' && anyRejected) {
        showResult.value = true;
        resultTitle.value = 'Promise.all()';
        
        const firstRejectedIndex = promises.value.findIndex(p => p.state === 'rejected');
        resultValue.value = promises.value[firstRejectedIndex].value;
      } else if (props.method === 'allSettled' && allSettled) {
        showResult.value = true;
        resultTitle.value = 'Promise.allSettled()';
        
        const results = promises.value.map((p, i) => {
          if (p.state === 'fulfilled') {
            return `{status: "fulfilled", value: –î–∞–Ω–Ω—ã–µ ${i+1}}`;
          } else {
            return `{status: "rejected", reason: –û—à–∏–±–∫–∞ ${i+1}!}`;
          }
        });
        
        resultValue.value = `[${results.join(', ')}]`;
      } else if (props.method === 'race' && (anyResolved || anyRejected)) {
        showResult.value = true;
        resultTitle.value = 'Promise.race()';
        
        const firstSettledIndex = promises.value.findIndex(p => p.state !== 'pending');
        resultValue.value = promises.value[firstSettledIndex].value;
      } else if (props.method === 'any' && anyResolved) {
        showResult.value = true;
        resultTitle.value = 'Promise.any()';
        
        const firstResolvedIndex = promises.value.findIndex(p => p.state === 'fulfilled');
        resultValue.value = promises.value[firstResolvedIndex].value;
      } else if (props.method === 'any' && allSettled && !anyResolved) {
        showResult.value = true;
        resultTitle.value = 'Promise.any()';
        resultValue.value = 'AggregateError: All promises were rejected';
      }
    }
    
    function reset() {
      promises.value = [
        { state: 'pending', value: '...', stateLabel: '–í –æ–∂–∏–¥–∞–Ω–∏–∏' },
        { state: 'pending', value: '...', stateLabel: '–í –æ–∂–∏–¥–∞–Ω–∏–∏' },
        { state: 'pending', value: '...', stateLabel: '–í –æ–∂–∏–¥–∞–Ω–∏–∏' }
      ];
      showResult.value = false;
      resultTitle.value = '';
      resultValue.value = '';
    }
    
    return {
      promises,
      showResult,
      resultTitle,
      resultValue,
      resolveP1,
      rejectP1,
      resolveP2,
      rejectP2,
      resolveP3,
      rejectP3,
      reset
    };
  }
});

const FetchVisualComponent = defineComponent({
  template: `
    <div class="fetch-visualization">
      <div class="server-client-container">
        <div class="server-side">
          <div class="server-icon">üñ•Ô∏è</div>
          <div class="server-label">–°–µ—Ä–≤–µ—Ä</div>
          <div class="server-state">{{ serverState }}</div>
        </div>
        
        <div class="connection" :class="connectionState">
          <div class="connection-line"></div>
          <div class="data-packet" :class="{ 'packet-error': isError, 'packet-success': isSuccess && showResponse }">
            <span v-if="showRequest">üì§</span>
            <span v-if="showResponse">üì•</span>
            <span v-if="showError">‚ùå</span>
          </div>
        </div>
        
        <div class="client-side">
          <div class="client-icon">üíª</div>
          <div class="client-label">–ö–ª–∏–µ–Ω—Ç</div>
          <div class="client-code">fetch(url)</div>
          <div class="client-promise" :class="{ 'promise-pending': isPending, 'promise-fulfilled': isSuccess, 'promise-rejected': isError }">
            {{ promiseState }}
          </div>
        </div>
      </div>
      
      <div class="response-container" v-if="showResponse || showError">
        <pre class="response-data">{{ responseData }}</pre>
      </div>
      
      <div class="visualization-controls">
        <button @click="sendRequest" :disabled="!isIdle" class="control-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å</button>
        <button @click="simulateSuccess" :disabled="!isRequesting" class="control-button success">–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç</button>
        <button @click="simulateError" :disabled="!isRequesting" class="control-button danger">–û—à–∏–±–∫–∞ —Å–µ—Ç–∏</button>
        <button @click="reset" :disabled="isIdle" class="control-button">–°–±—Ä–æ—Å–∏—Ç—å</button>
      </div>
    </div>
  `,
  setup() {
    const state = ref('idle');
    
    const serverState = ref('–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞');
    const connectionState = ref('idle');
    const promiseState = ref('–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ Promise');
    const responseData = ref('');
    
    const showRequest = ref(false);
    const showResponse = ref(false);
    const showError = ref(false);
    
    const isIdle = ref(true);
    const isRequesting = ref(false);
    const isPending = ref(false);
    const isSuccess = ref(false);
    const isError = ref(false);
    
    function sendRequest() {
      state.value = 'requesting';
      isIdle.value = false;
      isRequesting.value = true;
      isPending.value = true;
      
      serverState.value = '–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞...';
      connectionState.value = 'active';
      promiseState.value = 'Promise –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ pending';
      
      showRequest.value = true;
    }
    
    function simulateSuccess() {
      isRequesting.value = false;
      isPending.value = false;
      isSuccess.value = true;
      
      serverState.value = '–û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω';
      
      // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –æ—Ç–≤–µ—Ç–∞
      setTimeout(() => {
        showResponse.value = true;
        promiseState.value = 'Promise –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ fulfilled';
        responseData.value = JSON.stringify({
          status: 'success',
          data: {
            id: 1,
            name: '–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö',
            timestamp: new Date().toISOString()
          }
        }, null, 2);
      }, 1000);
    }
    
    function simulateError() {
      isRequesting.value = false;
      isPending.value = false;
      isError.value = true;
      
      serverState.value = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞';
      
      // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –æ—Ç–≤–µ—Ç–∞
      setTimeout(() => {
        showError.value = true;
        promiseState.value = 'Promise –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ rejected';
        responseData.value = JSON.stringify({
          status: 'error',
          message: 'Network Error: Failed to fetch',
          code: 500
        }, null, 2);
      }, 1000);
    }
    
    function reset() {
      state.value = 'idle';
      isIdle.value = true;
      isRequesting.value = false;
      isPending.value = false;
      isSuccess.value = false;
      isError.value = false;
      
      serverState.value = '–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞';
      connectionState.value = 'idle';
      promiseState.value = '–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ Promise';
      
      showRequest.value = false;
      showResponse.value = false;
      showError.value = false;
      
      responseData.value = '';
    }
    
    return {
      serverState,
      connectionState,
      promiseState,
      responseData,
      
      showRequest,
      showResponse,
      showError,
      
      isIdle,
      isRequesting,
      isPending,
      isSuccess,
      isError,
      
      sendRequest,
      simulateSuccess,
      simulateError,
      reset
    };
  }
});

// –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
const tabs = [
  { title: "–ß—Ç–æ —Ç–∞–∫–æ–µ Promise" },
  { title: "–ú–µ—Ç–æ–¥—ã Promise" },
  { title: "–¶–µ–ø–æ—á–∫–∏ Promise" },
  { title: "Async/Await" },
  { title: "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã" }
];

const currentTab = ref(0);

// ----- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ "–ß—Ç–æ —Ç–∞–∫–æ–µ Promise" -----
const currentState = ref('pending');
const stateLabels = {
  pending: '–û–∂–∏–¥–∞–Ω–∏–µ (pending)',
  fulfilled: '–í—ã–ø–æ–ª–Ω–µ–Ω–æ (fulfilled)',
  rejected: '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ (rejected)'
};

const exampleLogs = ref([]);
const showExampleResult = ref(false);

function setState(state) {
  currentState.value = state;
}

function animateStates() {
  // –ê–Ω–∏–º–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  setState('pending');
  
  setTimeout(() => {
    setState('fulfilled');
    
    setTimeout(() => {
      setState('rejected');
      
      setTimeout(() => {
        setState('pending');
      }, 2000);
    }, 2000);
  }, 2000);
}

function runPromiseExample() {
  showExampleResult.value = true;
  exampleLogs.value = [];
  
  exampleLogs.value.push({ type: 'info', message: '–°–æ–∑–¥–∞–Ω–∏–µ Promise...' });
  
  // –ò–º–∏—Ç–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Promise
  setTimeout(() => {
    const success = Math.random() > 0.5;
    
    if (success) {
      exampleLogs.value.push({ type: 'success', message: '–£—Å–ø–µ—Ö: –û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!' });
      setState('fulfilled');
    } else {
      exampleLogs.value.push({ type: 'error', message: '–û—à–∏–±–∫–∞: –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞!' });
      setState('rejected');
    }
    
    setTimeout(() => {
      exampleLogs.value.push({ type: 'info', message: '–ó–∞–≤–µ—Ä—à–µ–Ω–æ (–≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ)' });
    }, 500);
  }, 2000);
}

// ----- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ "–ú–µ—Ç–æ–¥—ã Promise" -----
const currentMethod = ref(0);

const promiseMethods = [
  {
    name: "Promise.then() –∏ Promise.catch()",
    description: `<p><code>then()</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Promise, –∞ <code>catch()</code> –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏.</p>
    <p>–û–±–∞ –º–µ—Ç–æ–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤—ã–π Promise, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Ö —Ü–µ–ø–æ—á–∫–æ–π –≤—ã–∑—ã–≤–∞—Ç—å.</p>`,
    code: `const myPromise = new Promise((resolve, reject) => {
  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
  setTimeout(() => {
    const success = Math.random() > 0.5;
    if (success) {
      resolve('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã');
    } else {
      reject('–û—à–∏–±–∫–∞!');
    }
  }, 2000);
});

myPromise
  .then(result => {
    console.log('–£—Å–ø–µ—Ö:', result);
    return result.toUpperCase();
  })
  .then(transformed => {
    console.log('–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', transformed);
  })
  .catch(error => {
    console.error('–û—à–∏–±–∫–∞:', error);
  });`,
    component: ThenCatchComponent,
    notes: [
      "–ú–µ—Ç–æ–¥ then() –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: onFulfilled –∏ onRejected (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π).",
      "catch(onRejected) —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω then(null, onRejected).",
      "–ï—Å–ª–∏ –∫–æ–ª–±—ç–∫ then() –∏–ª–∏ catch() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, —Å–ª–µ–¥—É—é—â–∏–π then() –ø–æ–ª—É—á–∏—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ.",
      "–ï—Å–ª–∏ –∫–æ–ª–±—ç–∫ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Å–ª–µ–¥—É—é—â–∏–π (–∏–ª–∏ –ø–µ—Ä–≤—ã–π) catch() –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ."
    ]
  },
  {
    name: "Promise.all()",
    description: `<p><code>Promise.all()</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ Promise –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π Promise, –∫–æ—Ç–æ—Ä—ã–π:</p>
    <ul>
      <li>–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—Å–µ Promise –≤ –º–∞—Å—Å–∏–≤–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –≤–æ–∑–≤—Ä–∞—â–∞—è –º–∞—Å—Å–∏–≤ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</li>
      <li>–æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è, –µ—Å–ª–∏ –ª—é–±–æ–π –∏–∑ Promise –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞—è –ø—Ä–∏—á–∏–Ω—É –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω–æ–≥–æ Promise</li>
    </ul>`,
    code: `// –ù–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
const promise1 = fetch('/api/users');
const promise2 = fetch('/api/posts');
const promise3 = fetch('/api/comments');

Promise.all([promise1, promise2, promise3])
  .then(([usersResponse, postsResponse, commentsResponse]) => {
    // –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω—ã
    // –†–µ–∑—É–ª—å—Ç–∞—Ç - –º–∞—Å—Å–∏–≤ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ
    return Promise.all([
      usersResponse.json(),
      postsResponse.json(),
      commentsResponse.json()
    ]);
  })
  .then(([users, posts, comments]) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
    console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã', { users, posts, comments });
  })
  .catch(error => {
    // –ë—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω, –µ—Å–ª–∏ –ª—é–±–æ–π –∏–∑ Promise –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π
    console.error('–û—à–∏–±–∫–∞ –≤ –æ–¥–Ω–æ–º –∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤:', error);
  });`,
    component: defineComponent({
      template: `<AllMethodsComponent method="all" />`,
      components: { AllMethodsComponent }
    }),
    notes: [
      "–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∑–∞–¥–∞—á, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.",
      "–ï—Å–ª–∏ –æ–¥–∏–Ω Promise –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è, –≤–µ—Å—å Promise.all –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.",
      "–ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç, Promise.all() –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º.",
      "–ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ—Ä—è–¥–∫—É Promise, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è."
    ]
  },
  {
    name: "Promise.allSettled()",
    description: `<p><code>Promise.allSettled()</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ Promise –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π Promise, –∫–æ—Ç–æ—Ä—ã–π:</p>
    <ul>
      <li>–≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è)</li>
      <li>—Ä–µ–∑—É–ª—å—Ç–∞—Ç - –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç–∞—Ç—É—Å–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ/–ø—Ä–∏—á–∏–Ω–µ –∫–∞–∂–¥–æ–≥–æ Promise</li>
    </ul>`,
    code: `const promises = [
  fetch('/api/data1').then(res => res.json()),
  fetch('/api/nonexistent').then(res => res.json()),
  Promise.resolve('direct value')
];

Promise.allSettled(promises)
  .then(results => {
    // results - –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º/–ø—Ä–∏—á–∏–Ω–æ–π
    results.forEach((result, index) => {
      if (result.status === 'fulfilled') {
        console.log(\`Promise \${index}: –≤—ã–ø–æ–ª–Ω–µ–Ω —Å –∑–Ω–∞—á–µ–Ω–∏–µ–º \${result.value}\`);
      } else {
        console.log(\`Promise \${index}: –æ—Ç–∫–ª–æ–Ω–µ–Ω —Å –ø—Ä–∏—á–∏–Ω–æ–π \${result.reason}\`);
      }
    });
  });
  
// –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
// [
//   { status: "fulfilled", value: {...} },
//   { status: "rejected", reason: Error },
//   { status: "fulfilled", value: "direct value" }
// ]`,
    component: defineComponent({
      template: `<AllMethodsComponent method="allSettled" />`,
      components: { AllMethodsComponent }
    }),
    notes: [
      "–ë–æ–ª–µ–µ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥, —á–µ–º Promise.all() (ES2020).",
      "–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∏—Ö —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏.",
      "–û—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —á–∞—Å—Ç—å –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π.",
      "–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Promise.all(), –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è."
    ]
  },
  {
    name: "Promise.race()",
    description: `<p><code>Promise.race()</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ Promise –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π Promise, –∫–æ—Ç–æ—Ä—ã–π:</p>
    <ul>
      <li>–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–≥–æ Promise (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —É—Å–ø–µ—Ö–∞ –∏–ª–∏ –æ—à–∏–±–∫–∏)</li>
      <li>–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö Promise</li>
    </ul>`,
    code: `// –ó–∞–ø—Ä–æ—Å —Å —Ç–∞–π–º–∞—É—Ç–æ–º
function fetchWithTimeout(url, timeout = 5000) {
  const dataPromise = fetch(url);
  const timeoutPromise = new Promise((_, reject) => {
    setTimeout(() => reject(new Error('Timeout')), timeout);
  });

  return Promise.race([dataPromise, timeoutPromise]);
}

fetchWithTimeout('/api/data', 3000)
  .then(response => response.json())
  .then(data => console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã –≤–æ–≤—Ä–µ–º—è:', data))
  .catch(error => {
    if (error.message === 'Timeout') {
      console.error('–ó–∞–ø—Ä–æ—Å –ø—Ä–µ–≤—ã—Å–∏–ª —Ç–∞–π–º–∞—É—Ç!');
    } else {
      console.error('–î—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞:', error);
    }
  });`,
    component: defineComponent({
      template: `<AllMethodsComponent method="race" />`,
      components: { AllMethodsComponent }
    }),
    notes: [
      "–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç.",
      "–ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω Promise –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è (—É—Å–ø–µ—à–Ω–æ –∏–ª–∏ —Å –æ—à–∏–±–∫–æ–π), —Ä–µ–∑—É–ª—å—Ç–∞—Ç Promise.race() –æ–ø—Ä–µ–¥–µ–ª–µ–Ω.",
      "–û—Å—Ç–∞–ª—å–Ω—ã–µ Promise –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è, –Ω–æ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.",
      "–ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π Promise –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–∂–∏–¥–∞–Ω–∏—è –≤–µ—á–Ω–æ."
    ]
  },
  {
    name: "Promise.any()",
    description: `<p><code>Promise.any()</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ Promise –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π Promise, –∫–æ—Ç–æ—Ä—ã–π:</p>
    <ul>
      <li>–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ Promise –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, —Å –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º</li>
      <li>–æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ Promise –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è, —Å AggregateError</li>
    </ul>`,
    code: `// –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
const mirrors = [
  'https://mirror1.example.com/file',
  'https://mirror2.example.com/file',
  'https://mirror3.example.com/file'
];

const downloadPromises = mirrors.map(url => fetch(url));

Promise.any(downloadPromises)
  .then(firstResponse => {
    console.log('–§–∞–π–ª –ø–æ–ª—É—á–µ–Ω –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∑–µ—Ä–∫–∞–ª–∞');
    return firstResponse.blob();
  })
  .then(blob => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
  })
  .catch(error => {
    // AggregateError —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ—à–∏–±–∫–∏
    console.error('–í—Å–µ –∑–µ—Ä–∫–∞–ª–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã:', error);
    console.error('–ü—Ä–∏—á–∏–Ω—ã:', error.errors);
  });`,
    component: defineComponent({
      template: `<AllMethodsComponent method="any" />`,
      components: { AllMethodsComponent }
    }),
    notes: [
      "–°–∞–º—ã–π –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –∏–∑ –≤—Å–µ—Ö (ES2021).",
      "–ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç—å Promise.all() - –Ω—É–∂–µ–Ω —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∞ –Ω–µ –≤—Å–µ.",
      "–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω—É–∂–µ–Ω –ª—é–±–æ–π —Ä–∞–±–æ—á–∏–π.",
      "–û—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è —Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Ç–∏–ø–æ–º –æ—à–∏–±–∫–∏ AggregateError, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫."
    ]
  },
  {
    name: "Promise.finally()",
    description: `<p><code>finally()</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –±—ã–ª –ª–∏ Promise –≤—ã–ø–æ–ª–Ω–µ–Ω –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω.</p>
    <p>–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ.</p>`,
    code: `function loadData() {
  showLoadingIndicator();
  
  fetch('/api/data')
    .then(response => {
      if (!response.ok) {
        throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
      }
      return response.json();
    })
    .then(data => {
      displayData(data);
    })
    .catch(error => {
      showErrorMessage(error);
    })
    .finally(() => {
      // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —É—Å–ø–µ—Ö–∞ –∏–ª–∏ –æ—à–∏–±–∫–∏
      hideLoadingIndicator();
    });
}`,
    component: defineComponent({
      template: `
        <div class="finally-visualization">
          <div class="promise-flow">
            <div class="promise-box" :class="state">
              <div class="promise-title">Promise</div>
              <div class="promise-value">{{ value }}</div>
              <div class="promise-state">{{ stateLabel }}</div>
            </div>
            
            <div class="handlers-container">
              <div class="handler then-handler" :class="{ active: showThen && !showError }">
                <div class="handler-title">.then()</div>
              </div>
              
              <div class="handler catch-handler" :class="{ active: showError }">
                <div class="handler-title">.catch()</div>
              </div>
              
              <div class="handler finally-handler" :class="{ active: showFinally }">
                <div class="handler-title">.finally()</div>
                <div class="handler-content">–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞!</div>
              </div>
            </div>
          </div>
          
          <div class="visualization-controls">
            <button @click="resolvePromise" :disabled="state !== 'pending'" class="control-button success">–í—ã–ø–æ–ª–Ω–∏—Ç—å Promise</button>
            <button @click="rejectPromise" :disabled="state !== 'pending'" class="control-button danger">–û—Ç–∫–ª–æ–Ω–∏—Ç—å Promise</button>
            <button @click="reset" :disabled="state === 'pending'" class="control-button">–°–±—Ä–æ—Å–∏—Ç—å</div>
        </div>
      `,
      setup() {
        const state = ref('pending');
        const value = ref('...');
        const stateLabel = ref('–í –æ–∂–∏–¥–∞–Ω–∏–∏');
        const showThen = ref(false);
        const showError = ref(false);
        const showFinally = ref(false);
        
        function resolvePromise() {
          state.value = 'fulfilled';
          value.value = '"–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã"';
          stateLabel.value = '–í—ã–ø–æ–ª–Ω–µ–Ω–æ';
          
          showThen.value = true;
          
          setTimeout(() => {
            showFinally.value = true;
          }, 1000);
        }
        
        function rejectPromise() {
          state.value = 'rejected';
          value.value = '"–û—à–∏–±–∫–∞!"';
          stateLabel.value = '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ';
          
          showError.value = true;
          
          setTimeout(() => {
            showFinally.value = true;
          }, 1000);
        }
        
        function reset() {
          state.value = 'pending';
          value.value = '...';
          stateLabel.value = '–í –æ–∂–∏–¥–∞–Ω–∏–∏';
          showThen.value = false;
          showError.value = false;
          showFinally.value = false;
        }
        
        return {
          state,
          value,
          stateLabel,
          showThen,
          showError,
          showFinally,
          resolvePromise,
          rejectPromise,
          reset
        };
      }
    }),
    notes: [
      "–ú–µ—Ç–æ–¥ finally() –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–ª–±—ç–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ Promise.",
      "–ö–æ–ª–±—ç–∫ –≤ finally() –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –≤–∞–∂–Ω–æ, –±—ã–ª –ª–∏ Promise –≤—ã–ø–æ–ª–Ω–µ–Ω –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω.",
      "Promise, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π finally(), –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ Promise, –µ—Å–ª–∏ –∫–æ–ª–±—ç–∫ finally() –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É.",
      "–û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –æ—á–∏—Å—Ç–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–∫—Ä—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, —Å–∫—Ä—ã—Ç–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ç.–¥."
    ]
  }
];

// ----- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ "–¶–µ–ø–æ—á–∫–∏ Promise" -----
const chainBlocks = [
  {
    title: '–ò—Å—Ö–æ–¥–Ω—ã–π Promise',
    code: 'getUserData(123)'
  },
  {
    title: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç –Ω–æ–≤–æ–≥–æ Promise',
    code: '.then(user => {\n  console.log(\'–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:\', user);\n  return getUserPosts(user);\n})'
  },
  {
    title: '–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ Promise',
    code: '.then(posts => {\n  console.log(\'–ü–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:\', posts);\n  return getPostComments(posts[0]);\n})'
  },
  {
    title: '–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞',
    code: '.then(comments => {\n  console.log(\'–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É:\', comments);\n  // –ì–æ—Ç–æ–≤–æ!\n})'
  },
  {
    title: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫',
    code: '.catch(error => {\n  console.error(\'–û—à–∏–±–∫–∞:\', error);\n})'
  }
];

const currentChainBlock = ref(0);

function resetChain() {
  currentChainBlock.value = 0;
}

function nextChainStep() {
  if (currentChainBlock.value < chainBlocks.length) {
    currentChainBlock.value++;
  }
}

function animateChain() {
  resetChain();
  
  // –ê–Ω–∏–º–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π —à–∞–≥ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
  let step = 0;
  const intervalId = setInterval(() => {
    if (step < chainBlocks.length) {
      currentChainBlock.value = step + 1;
      step++;
    } else {
      clearInterval(intervalId);
    }
  }, 1500);
}

// ----- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ "Async/Await" -----
const transformSteps = [
  {
    title: "–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å —Ü–µ–ø–æ—á–∫–æ–π Promise",
    description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ü–µ–ø–æ—á–∫–∞ Promise —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ .then() –∏ .catch()",
    code: `// –§—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ Promise
function fetchUser(id) {
  return new Promise((resolve, reject) => {
    if (id <= 0) reject(new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID'));
    setTimeout(() => resolve({ id, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + id }), 1000);
  });
}

function fetchUserPosts(user) {
  return new Promise((resolve) => {
    setTimeout(() => resolve([
      { id: 1, title: '–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç' },
      { id: 2, title: '–í—Ç–æ—Ä–æ–π –ø–æ—Å—Ç' }
    ]), 1000);
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ü–µ–ø–æ—á–∫—É Promise
function loadUserData(userId) {
  return fetchUser(userId)
    .then(user => {
      console.log('–ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
      return fetchUserPosts(user);
    })
    .then(posts => {
      console.log('–ó–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', posts);
      return { user: { id: userId, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + userId }, posts };
    })
    .catch(error => {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error.message);
      throw error;
    });
}

// –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
loadUserData(1)
  .then(data => console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', data))
  .catch(error => console.error('–û—à–∏–±–∫–∞:', error));`
  },
  {
    title: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ async",
    description: "–ü–æ–º–µ—á–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Å –ø–æ–º–æ—â—å—é async",
    code: `// –§—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ Promise
function fetchUser(id) {
  return new Promise((resolve, reject) => {
    if (id <= 0) reject(new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID'));
    setTimeout(() => resolve({ id, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + id }), 1000);
  });
}

function fetchUserPosts(user) {
  return new Promise((resolve) => {
    setTimeout(() => resolve([
      { id: 1, title: '–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç' },
      { id: 2, title: '–í—Ç–æ—Ä–æ–π –ø–æ—Å—Ç' }
    ]), 1000);
  });
}

// –î–æ–±–∞–≤–ª—è–µ–º async –∫ —Ñ—É–Ω–∫—Ü–∏–∏
async function loadUserData(userId) {
  return fetchUser(userId)
    .then(user => {
      console.log('–ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
      return fetchUserPosts(user);
    })
    .then(posts => {
      console.log('–ó–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', posts);
      return { user: { id: userId, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + userId }, posts };
    })
    .catch(error => {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error.message);
      throw error;
    });
}

// –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
loadUserData(1)
  .then(data => console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', data))
  .catch(error => console.error('–û—à–∏–±–∫–∞:', error));`
  },
  {
    title: "–ó–∞–º–µ–Ω–∞ –ø–µ—Ä–≤–æ–≥–æ .then() –Ω–∞ await",
    description: "–ó–∞–º–µ–Ω—è–µ–º –ø–µ—Ä–≤—ã–π .then() –Ω–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å await",
    code: `// –§—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ Promise
function fetchUser(id) {
  return new Promise((resolve, reject) => {
    if (id <= 0) reject(new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID'));
    setTimeout(() => resolve({ id, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + id }), 1000);
  });
}

function fetchUserPosts(user) {
  return new Promise((resolve) => {
    setTimeout(() => resolve([
      { id: 1, title: '–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç' },
      { id: 2, title: '–í—Ç–æ—Ä–æ–π –ø–æ—Å—Ç' }
    ]), 1000);
  });
}

// –ó–∞–º–µ–Ω—è–µ–º –ø–µ—Ä–≤—ã–π then –Ω–∞ await
async function loadUserData(userId) {
  // –ñ–¥–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Promise –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  const user = await fetchUser(userId);
  console.log('–ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
  
  // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫—É –¥–ª—è –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –æ–ø–µ—Ä–∞—Ü–∏–π
  return fetchUserPosts(user)
    .then(posts => {
      console.log('–ó–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', posts);
      return { user, posts };
    })
    .catch(error => {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error.message);
      throw error;
    });
}

// –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
loadUserData(1)
  .then(data => console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', data))
  .catch(error => console.error('–û—à–∏–±–∫–∞:', error));`
  },
  {
    title: "–ó–∞–º–µ–Ω–∞ –≤—Å–µ—Ö .then() –Ω–∞ await",
    description: "–ó–∞–º–µ–Ω—è–µ–º –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è .then() –Ω–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å await",
    code: `// –§—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ Promise
function fetchUser(id) {
  return new Promise((resolve, reject) => {
    if (id <= 0) reject(new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID'));
    setTimeout(() => resolve({ id, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + id }), 1000);
  });
}

function fetchUserPosts(user) {
  return new Promise((resolve) => {
    setTimeout(() => resolve([
      { id: 1, title: '–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç' },
      { id: 2, title: '–í—Ç–æ—Ä–æ–π –ø–æ—Å—Ç' }
    ]), 1000);
  });
}

// –ó–∞–º–µ–Ω—è–µ–º –≤—Å–µ then –Ω–∞ await
async function loadUserData(userId) {
  // –ñ–¥–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Promise –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  const user = await fetchUser(userId);
  console.log('–ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
  
  // –ñ–¥–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Ç–æ—Ä–æ–≥–æ Promise
  const posts = await fetchUserPosts(user);
  console.log('–ó–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', posts);
  
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ Promise)
  return { user, posts };
}

// –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
loadUserData(1)
  .then(data => console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', data))
  .catch(error => console.error('–û—à–∏–±–∫–∞:', error));`
  },
  {
    title: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Å try/catch",
    description: "–ó–∞–º–µ–Ω—è–µ–º .catch() –Ω–∞ –±–ª–æ–∫ try/catch –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫",
    code: `// –§—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ Promise
function fetchUser(id) {
  return new Promise((resolve, reject) => {
    if (id <= 0) reject(new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID'));
    setTimeout(() => resolve({ id, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + id }), 1000);
  });
}

function fetchUserPosts(user) {
  return new Promise((resolve) => {
    setTimeout(() => resolve([
      { id: 1, title: '–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç' },
      { id: 2, title: '–í—Ç–æ—Ä–æ–π –ø–æ—Å—Ç' }
    ]), 1000);
  });
}

// –î–æ–±–∞–≤–ª—è–µ–º try/catch –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
async function loadUserData(userId) {
  try {
    // –ñ–¥–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Promise –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    const user = await fetchUser(userId);
    console.log('–ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
    
    // –ñ–¥–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Ç–æ—Ä–æ–≥–æ Promise
    const posts = await fetchUserPosts(user);
    console.log('–ó–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', posts);
    
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ Promise)
    return { user, posts };
  } catch (error) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª—é–±—ã—Ö –æ—à–∏–±–æ–∫ –∏–∑ –ª—é–±–æ–≥–æ –∏–∑ await –≤—ã—Ä–∞–∂–µ–Ω–∏–π
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error.message);
    throw error; // –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ
  }
}

// –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
loadUserData(1)
  .then(data => console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', data))
  .catch(error => console.error('–û—à–∏–±–∫–∞:', error));`
  },
  {
    title: "–û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ —Å async/await",
    description: "–ü–æ–ª–Ω—ã–π –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π async/await –∏ try/catch",
    code: `// –§—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ Promise
function fetchUser(id) {
  return new Promise((resolve, reject) => {
    if (id <= 0) reject(new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID'));
    setTimeout(() => resolve({ id, name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + id }), 1000);
  });
}

function fetchUserPosts(user) {
  return new Promise((resolve) => {
    setTimeout(() => resolve([
      { id: 1, title: '–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç' },
      { id: 2, title: '–í—Ç–æ—Ä–æ–π –ø–æ—Å—Ç' }
    ]), 1000);
  });
}

// –ü–æ–ª–Ω—ã–π –∫–æ–¥ —Å async/await
async function loadUserData(userId) {
  try {
    console.log('–ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...');
    
    const user = await fetchUser(userId);
    console.log('–ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
    
    const posts = await fetchUserPosts(user);
    console.log('–ó–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', posts);
    
    return { user, posts }; // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ Promise
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error.message);
    throw error;
  }
}

// –ú—ã –º–æ–∂–µ–º –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .then() –∏ .catch()
loadUserData(1)
  .then(data => console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', data))
  .catch(error => console.error('–û—à–∏–±–∫–∞:', error));

// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å async/await –¥–ª—è –≤—ã–∑–æ–≤–∞
async function init() {
  try {
    const data = await loadUserData(1);
    console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏:', data);
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
  }
}

init();`
  }
];

const currentTransformStep = ref(0);
const asyncLogs = ref([]);
const showAsyncResult = ref(false);

function nextTransformStep() {
  if (currentTransformStep.value < transformSteps.length - 1) {
    currentTransformStep.value++;
  }
}

function prevTransformStep() {
  if (currentTransformStep.value > 0) {
    currentTransformStep.value--;
  }
}

function animateTransform() {
  currentTransformStep.value = 0;
  
  // –ê–Ω–∏–º–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π —à–∞–≥ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
  let step = 0;
  const intervalId = setInterval(() => {
    if (step < transformSteps.length - 1) {
      currentTransformStep.value = step + 1;
      step++;
    } else {
      clearInterval(intervalId);
    }
  }, 3000);
}

function runAsyncExample() {
  showAsyncResult.value = true;
  asyncLogs.value = [];
  
  asyncLogs.value.push({ type: 'info', message: '–ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...' });
  
  // –ò–º–∏—Ç–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
  setTimeout(() => {
    asyncLogs.value.push({ type: 'success', message: '–ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: { id: 1, name: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1" }' });
    
    setTimeout(() => {
      asyncLogs.value.push({ type: 'success', message: '–ó–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: [{ id: 1, title: "–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç" }, { id: 2, title: "–í—Ç–æ—Ä–æ–π –ø–æ—Å—Ç" }]' });
      
      setTimeout(() => {
        asyncLogs.value.push({ type: 'info', message: '–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã: { user: { id: 1, name: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1" }, posts: [...] }' });
        
        setTimeout(() => {
          asyncLogs.value.push({ type: 'info', message: '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏: { user: { id: 1, name: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1" }, posts: [...] }' });
        }, 1000);
      }, 1000);
    }, 1000);
  }, 1000);
}

// ----- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã" -----
const currentExample = ref(0);
const practicalExamples = [
  {
    title: "–ó–∞–ø—Ä–æ—Å—ã –∫ API —Å fetch()",
    description: `<p>–§—É–Ω–∫—Ü–∏—è <code>fetch()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë –∏–¥–µ–∞–ª—å–Ω–æ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ API.</p>
    <p>–≠—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Promise –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</p>`,
    code: `// –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º fetch
fetch('https://api.example.com/data')
  .then(response => {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–≤–µ—Ç–∞
    if (!response.ok) {
      throw new Error(\`–û—à–∏–±–∫–∞ HTTP: —Å—Ç–∞—Ç—É—Å \${response.status}\`);
    }
    // –ü–∞—Ä—Å–∏–Ω–≥ JSON
    return response.json();
  })
  .then(data => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    console.log('–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', data);
    displayData(data);
  })
  .catch(error => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏ –∏–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ:', error);
    showErrorToUser(error.message);
  });

// –¢–æ—Ç –∂–µ –∑–∞–ø—Ä–æ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º async/await
async function fetchData() {
  try {
    const response = await fetch('https://api.example.com/data');
    
    if (!response.ok) {
      throw new Error(\`–û—à–∏–±–∫–∞ HTTP: —Å—Ç–∞—Ç—É—Å \${response.status}\`);
    }
    
    const data = await response.json();
    console.log('–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', data);
    displayData(data);
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ:', error);
    showErrorToUser(error.message);
  }
}`,
    component: FetchVisualComponent,
    tips: [
      "–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ (response.ok –∏–ª–∏ response.status), –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.",
      "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .catch() –∏–ª–∏ try/catch –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏ –∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–±–ª–µ–º.",
      "–ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ .json() —Ç–∞–∫–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º JSON.",
      "–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä fetch() —Å –º–µ—Ç–æ–¥–æ–º, –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –∏ —Ç–µ–ª–æ–º –∑–∞–ø—Ä–æ—Å–∞."
    ]
  },
  {
    title: "–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ",
    description: `<p>Promise –ø–æ–∑–≤–æ–ª—è—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É.</p>
    <p>–ú–µ—Ç–æ–¥—ã <code>Promise.all()</code>, <code>Promise.allSettled()</code> –∏ <code>Promise.any()</code> –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –≤ —ç—Ç–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö.</p>`,
    code: `// –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
async function loadDashboardData() {
  const urls = [
    '/api/user-profile',
    '/api/notifications',
    '/api/recent-activity',
    '/api/statistics'
  ];
  
  try {
    // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
    const promises = urls.map(url => 
      fetch(url)
        .then(response => {
          if (!response.ok) throw new Error(\`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ \${url}\`);
          return response.json();
        })
    );
    
    // –ñ–¥–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    const [profile, notifications, activity, statistics] = await Promise.all(promises);
    
    // –í—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
    renderDashboard({
      profile,
      notifications,
      activity,
      statistics
    });
    
    return true;
  } catch (error) {
    // –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
    showError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è');
    return false;
  }
}

// –í–∞—Ä–∏–∞–Ω—Ç —Å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã –¥–∞–∂–µ –ø—Ä–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ—à–∏–±–∫–∞—Ö
async function loadDashboardDataWithFallbacks() {
  const urls = [
    '/api/user-profile',
    '/api/notifications',
    '/api/recent-activity',
    '/api/statistics'
  ];
  
  // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
  const promises = urls.map((url, index) => 
    fetch(url)
      .then(response => {
        if (!response.ok) throw new Error(\`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ \${url}\`);
        return response.json();
      })
      .catch(error => {
        console.warn(\`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è \${index}\`, error);
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –æ—à–∏–±–∫–µ
        return { error: true, module: index };
      })
  );
  
  // –í—Å–µ –ø—Ä–æ–º–∏—Å—ã –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å –æ—à–∏–±–∫–∞–º–∏
  const results = await Promise.all(promises);
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  const hasAnyData = results.some(result => !result.error);
  
  if (hasAnyData) {
    renderDashboardWithPartialData(results);
    return true;
  } else {
    showError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è');
    return false;
  }
}`,
    component: defineComponent({
      template: `
        <div class="parallel-loading-visualization">
          <div class="resources-container">
            <div 
              v-for="(resource, index) in resources" 
              :key="index" 
              class="resource-item"
              :class="{ loading: resource.status === 'loading', success: resource.status === 'success', error: resource.status === 'error' }"
            >
              <div class="resource-title">{{ resource.title }}</div>
              <div class="resource-status">{{ getStatusText(resource.status) }}</div>
              <div class="resource-progress" v-if="resource.status === 'loading'">
                <div class="progress-bar" :style="{ width: resource.progress + '%' }"></div>
              </div>
            </div>
          </div>
          
          <div class="dashboard-container" :class="{ active: showDashboard }">
            <div class="dashboard-label">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
            <div class="dashboard-status">{{ dashboardStatus }}</div>
          </div>
          
          <div class="visualization-controls">
            <button @click="startLoading" :disabled="isLoading" class="control-button">–ù–∞—á–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É</button>
            <button @click="resetLoading" :disabled="!isComplete" class="control-button">–°–±—Ä–æ—Å–∏—Ç—å</button>
            <div class="loading-options">
              <label>
                <input type="checkbox" v-model="simulateErrors"> –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—à–∏–±–∫–∏
              </label>
              <label>
                <input type="checkbox" v-model="useFallbacks"> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–ø–∞—Å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
              </label>
            </div>
          </div>
        </div>
      `,
      setup() {
        const resources = ref([
          { title: '–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', status: 'idle', progress: 0 },
          { title: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', status: 'idle', progress: 0 },
          { title: '–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è', status: 'idle', progress: 0 },
          { title: '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', status: 'idle', progress: 0 }
        ]);
        
        const isLoading = ref(false);
        const isComplete = ref(false);
        const showDashboard = ref(false);
        const dashboardStatus = ref('');
        
        const simulateErrors = ref(false);
        const useFallbacks = ref(false);
        
        function getStatusText(status) {
          switch(status) {
            case 'idle': return '–û–∂–∏–¥–∞–Ω–∏–µ';
            case 'loading': return '–ó–∞–≥—Ä—É–∑–∫–∞...';
            case 'success': return '–ó–∞–≥—Ä—É–∂–µ–Ω–æ';
            case 'error': return '–û—à–∏–±–∫–∞';
            default: return status;
          }
        }
        
        function startLoading() {
          isLoading.value = true;
          showDashboard.value = false;
          
          resources.value.forEach(resource => {
            resource.status = 'loading';
            resource.progress = 0;
          });
          
          // –°–∏–º—É–ª–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ —Å —Ä–∞–∑–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º
          resources.value.forEach((resource) => {
            const duration = 1000 + Math.random() * 2000;
            const shouldFail = simulateErrors.value && Math.random() < 0.3;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            const startTime = Date.now();
            const interval = setInterval(() => {
              const elapsed = Date.now() - startTime;
              const progress = Math.min(100, Math.round((elapsed / duration) * 100));
              resource.progress = progress;
              
              if (progress >= 100) {
                clearInterval(interval);
                
                if (shouldFail && !useFallbacks.value) {
                  resource.status = 'error';
                } else {
                  resource.status = 'success';
                }
                
                checkCompletion();
              }
            }, 50);
          });
        }
        
        function checkCompletion() {
          const allComplete = resources.value.every(r => r.status === 'success' || r.status === 'error');
          
          if (allComplete) {
            isLoading.value = false;
            isComplete.value = true;
            
            const hasErrors = resources.value.some(r => r.status === 'error');
            
            setTimeout(() => {
              showDashboard.value = true;
              
              if (!hasErrors) {
                dashboardStatus.value = '–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ';
              } else if (useFallbacks.value) {
                dashboardStatus.value = '–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∑–∞–ø–∞—Å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏';
              } else {
                dashboardStatus.value = '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ';
              }
            }, 500);
          }
        }
        
        function resetLoading() {
          resources.value.forEach(resource => {
            resource.status = 'idle';
            resource.progress = 0;
          });
          
          isLoading.value = false;
          isComplete.value = false;
          showDashboard.value = false;
          dashboardStatus.value = '';
        }
        
        return {
          resources,
          isLoading,
          isComplete,
          showDashboard,
          dashboardStatus,
          simulateErrors,
          useFallbacks,
          getStatusText,
          startLoading,
          resetLoading
        };
      }
    }),
    tips: [
      "–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –∞ –Ω–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏.",
      "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Promise.all() –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ–≥–¥–∞ –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã.",
      "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Promise.allSettled() –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ.",
      "–î–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, –ø–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∑–∞–ø–∞—Å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö."
    ]
  },
  {
    title: "–¢–∞–π–º–∞—É—Ç—ã –∏ –æ—Ç–º–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–π",
    description: `<p>Promise –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ –æ—Ç–º–µ–Ω—ã –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</p>
    <p>AbortController API –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å Promise –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã.</p>`,
    code: `// –§—É–Ω–∫—Ü–∏—è —Å —Ç–∞–π–º–∞—É—Ç–æ–º –¥–ª—è –ª—é–±–æ–≥–æ Promise
function withTimeout(promise, timeoutMs) {
  // –°–æ–∑–¥–∞–µ–º Promise, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
  const timeoutPromise = new Promise((_, reject) => {
    const timeoutId = setTimeout(() => {
      reject(new Error(\`–û–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞ \${timeoutMs}–º—Å\`));
    }, timeoutMs);
  });
  
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º Promise.race –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ
  return Promise.race([promise, timeoutPromise]);
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∞–π–º–∞—É—Ç–∞
async function fetchWithTimeout(url, timeout = 5000) {
  try {
    const result = await withTimeout(fetch(url), timeout);
    return await result.json();
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:', error);
    throw error; // –ü–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ
  }
}

// –û—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å AbortController
function fetchWithAbort(url) {
  // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ—Ç–º–µ–Ω—ã
  const controller = new AbortController();
  const { signal } = controller;
  
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç —Å Promise –∏ —Ñ—É–Ω–∫—Ü–∏–µ–π –æ—Ç–º–µ–Ω—ã
  return {
    promise: fetch(url, { signal })
      .then(response => {
        if (!response.ok) {
          throw new Error(–û—à–∏–±–∫–∞ HTTP:);
        }
        return response.json();
      }),
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–º–µ–Ω—ã –∑–∞–ø—Ä–æ—Å–∞
    abort: () => controller.abort()
  };
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Ç–º–µ–Ω—ã
let request;

document.querySelector('#startButton').addEventListener('click', async () => {
  // –û—Ç–º–µ–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–∞–ø—Ä–æ—Å, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
  if (request) {
    request.abort();
  }
  
  try {
    request = fetchWithAbort('https://api.example.com/data');
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
    showLoader();
    
    // –û–∂–∏–¥–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
    const data = await request.promise;
    hideLoader();
    displayData(data);
  } catch (error) {
    hideLoader();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–∞ –ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞
    if (error.name === 'AbortError') {
      console.log('–ó–∞–ø—Ä–æ—Å –±—ã–ª –æ—Ç–º–µ–Ω–µ–Ω');
    } else {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:', error);
      showError(error.message);
    }
  }
});

document.querySelector('#cancelButton').addEventListener('click', () => {
  if (request) {
    request.abort();
    console.log('–ó–∞–ø—Ä–æ—Å –æ—Ç–º–µ–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º');
  }
});`,
    component: defineComponent({
      template: `
        <div class="abort-visualization">
          <div class="server-client-container">
            <div class="server-side">
              <div class="server-icon">üñ•Ô∏è</div>
              <div class="server-label">–°–µ—Ä–≤–µ—Ä</div>
              <div class="server-state">{{ serverState }}</div>
            </div>
            
            <div class="connection" :class="{ active: isRequesting, aborted: isAborted }">
              <div class="connection-line"></div>
              <div class="abort-marker" v-if="isAborted">‚õî</div>
            </div>
            
            <div class="client-side">
              <div class="client-icon">üíª</div>
              <div class="client-label">–ö–ª–∏–µ–Ω—Ç</div>
              <div class="client-code">fetch(url, { signal })</div>
              <div class="client-promise" :class="{ 'promise-pending': isPending, 'promise-fulfilled': isSuccess, 'promise-rejected': isError || isAborted }">
                {{ promiseState }}
              </div>
            </div>
          </div>
          
          <div class="loading-indicator" v-if="isRequesting && !isAborted">
            <div class="loading-spinner"></div>
            <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞... {{ elapsedTime }}—Å</div>
          </div>
          
          <div class="abort-controls">
            <button @click="startRequest" :disabled="isRequesting || isCompleted" class="control-button">–ù–∞—á–∞—Ç—å –∑–∞–ø—Ä–æ—Å</button>
            <button @click="abortRequest" :disabled="!isRequesting || isAborted" class="control-button danger">–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å</button>
            <button @click="reset" :disabled="!isCompleted && !isAborted" class="control-button">–°–±—Ä–æ—Å–∏—Ç—å</button>
          </div>
          
          <div class="request-info" v-if="isCompleted || isAborted">
            <div class="info-status" :class="{ error: isError || isAborted, success: isSuccess }">
              {{ isAborted ? '–ó–∞–ø—Ä–æ—Å –æ—Ç–º–µ–Ω–µ–Ω' : (isSuccess ? '–ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω' : '–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞') }}
            </div>
            <div class="info-message">
              {{ infoMessage }}
            </div>
          </div>
        </div>
      `,
      setup() {
        const serverState = ref('–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞');
        const isRequesting = ref(false);
        const isPending = ref(false);
        const isSuccess = ref(false);
        const isError = ref(false);
        const isAborted = ref(false);
        const isCompleted = ref(false);
        const promiseState = ref('–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ Promise');
        const infoMessage = ref('');
        const elapsedTime = ref(0);
        
        let timerInterval = null;
        
        function startRequest() {
          isRequesting.value = true;
          isPending.value = true;
          isSuccess.value = false;
          isError.value = false;
          isAborted.value = false;
          isCompleted.value = false;
          
          serverState.value = '–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞...';
          promiseState.value = 'Promise –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ pending';
          infoMessage.value = '';
          elapsedTime.value = 0;
          
          // –°—Ç–∞—Ä—Ç —Ç–∞–π–º–µ—Ä–∞
          timerInterval = setInterval(() => {
            elapsedTime.value += 0.1;
            elapsedTime.value = Math.round(elapsedTime.value * 10) / 10;
          }, 100);
        }
        
        function abortRequest() {
          clearInterval(timerInterval);
          
          isRequesting.value = false;
          isPending.value = false;
          isAborted.value = true;
          
          serverState.value = '–ó–∞–ø—Ä–æ—Å –æ—Ç–º–µ–Ω–µ–Ω';
          promiseState.value = 'Promise –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ rejected (AbortError)';
          infoMessage.value = `–ó–∞–ø—Ä–æ—Å –±—ã–ª –æ—Ç–º–µ–Ω–µ–Ω –ø–æ—Å–ª–µ ${elapsedTime.value} —Å–µ–∫—É–Ω–¥`;
        }
        
        function completeRequest(success = true) {
          clearInterval(timerInterval);
          
          isRequesting.value = false;
          isPending.value = false;
          isSuccess.value = success;
          isError.value = !success;
          isCompleted.value = true;
          
          serverState.value = success ? '–û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω' : '–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏';
          promiseState.value = success ? 'Promise –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ fulfilled' : 'Promise –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ rejected';
          infoMessage.value = success 
            ? `–ó–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞ ${elapsedTime.value} —Å–µ–∫—É–Ω–¥` 
            : `–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞: Timeout`;
        }
        
        function reset() {
          clearInterval(timerInterval);
          
          serverState.value = '–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞';
          isRequesting.value = false;
          isPending.value = false;
          isSuccess.value = false;
          isError.value = false;
          isAborted.value = false;
          isCompleted.value = false;
          promiseState.value = '–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ Promise';
          infoMessage.value = '';
          elapsedTime.value = 0;
        }
        
        // –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
        onBeforeUnmount(() => {
          if (timerInterval) {
            clearInterval(timerInterval);
          }
        });
        
        return {
          serverState,
          isRequesting,
          isPending,
          isSuccess,
          isError,
          isAborted,
          isCompleted,
          promiseState,
          infoMessage,
          elapsedTime,
          startRequest,
          abortRequest,
          completeRequest,
          reset
        };
      }
    }),
    tips: [
      "–í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Å–µ—Ç—å—é.",
      "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ AbortController –¥–ª—è –æ—Ç–º–µ–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.",
      "–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ—á–∏—â–∞—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ React –∏–ª–∏ Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.",
      "–ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–ø—Ä–æ—Å–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ AbortError."
    ]
  },
  {
    title: "–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π",
    description: `<p>–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å—Ç—Ä–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π.</p>
    <p>Promise –ø–æ–∑–≤–æ–ª—è—é—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ç–∞–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–ª–±—ç–∫–æ–≤.</p>`,
    code: `// –ü—Ä–∏–º–µ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º reduce
async function processFilesSequentially(fileUrls) {
  console.log(\`–ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ \${fileUrls.length} —Ñ–∞–π–ª–æ–≤...\`);
  
  // –ò—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–π Promise —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  const initialPromise = Promise.resolve([]);
  
  // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª
  const results = await fileUrls.reduce(
    async (previousPromise, fileUrl, index) => {
      // –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
      const results = await previousPromise;
      
      console.log(\`–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞ \${index + 1}/\${fileUrls.length}: \${fileUrl}\`);
      
      try {
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
        const response = await fetch(fileUrl);
        if (!response.ok) throw new Error(\`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: \${response.status}\`);
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
        const fileData = await response.json();
        const processedData = await processFile(fileData);
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫ –º–∞—Å—Å–∏–≤—É
        results.push({
          url: fileUrl,
          success: true,
          data: processedData
        });
      } catch (error) {
        console.error(\`–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ \${fileUrl}:\`, error);
        
        results.push({
          url: fileUrl,
          success: false,
          error: error.message
        });
      }
      
      // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
      return results;
    },
    initialPromise
  );
  
  console.log('–í—Å–µ —Ñ–∞–π–ª—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã:', results);
  return results;
}

// –ü—Ä–∏–º–µ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é for...of –≤ async —Ñ—É–Ω–∫—Ü–∏–∏
async function processFilesWithLoop(fileUrls) {
  const results = [];
  
  console.log(\`–ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ \${fileUrls.length} —Ñ–∞–π–ª–æ–≤...\`);
  
  // for...of —Ä–∞–±–æ—Ç–∞–µ—Ç —Å await –≤–Ω—É—Ç—Ä–∏ async —Ñ—É–Ω–∫—Ü–∏–∏
  for (const [index, fileUrl] of fileUrls.entries()) {
    console.log(\`–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞ \${index + 1}/\${fileUrls.length}: \${fileUrl}\`);
    
    try {
      // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
      const response = await fetch(fileUrl);
      if (!response.ok) throw new Error(\`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: \${response.status}\`);
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
      const fileData = await response.json();
      const processedData = await processFile(fileData);
      
      results.push({
        url: fileUrl,
        success: true,
        data: processedData
      });
    } catch (error) {
      console.error(\`–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ \${fileUrl}:\`, error);
      
      results.push({
        url: fileUrl,
        success: false,
        error: error.message
      });
    }
    
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
    // await new Promise(resolve => setTimeout(resolve, 1000));
  }
  
  console.log('–í—Å–µ —Ñ–∞–π–ª—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã:', results);
  return results;
}`,
    component: defineComponent({
      template: `
        <div class="sequential-visualization">
          <div class="files-pipeline">
            <div 
              v-for="(file, index) in files" 
              :key="index" 
              class="file-item"
              :class="{ 
                active: currentFileIndex === index, 
                pending: currentFileIndex < index,
                completed: currentFileIndex > index,
                error: fileStatuses[index] === 'error',
                success: fileStatuses[index] === 'success'
              }"
            >
              <div class="file-icon">üìÑ</div>
              <div class="file-name">{{ file.name }}</div>
              <div class="file-status">{{ getFileStatusText(index) }}</div>
              <div 
                v-if="currentFileIndex === index && processingStatus !== 'idle'"
                class="processing-indicator"
              >
                <div v-if="processingStatus === 'downloading'" class="processing-stage">
                  ‚¨áÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞...
                </div>
                <div v-else-if="processingStatus === 'processing'" class="processing-stage">
                  ‚öôÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞...
                </div>
                <div v-else-if="processingStatus === 'saving'" class="processing-stage">
                  üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...
                </div>
              </div>
            </div>
          </div>
          
          <div class="progress-overview">
            <div class="progress-bar-container">
              <div class="progress-bar" :style="{ width: progressPercentage + '%' }"></div>
            </div>
            <div class="progress-text">
              {{ progressText }}
            </div>
          </div>
          
          <div class="visualization-controls">
            <button @click="startProcessing" :disabled="isProcessing || isCompleted" class="control-button">–ù–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É</button>
            <button @click="reset" :disabled="!isCompleted" class="control-button">–°–±—Ä–æ—Å–∏—Ç—å</button>
            <div class="processing-options">
              <label>
                <input type="checkbox" v-model="simulateErrors"> –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –æ—à–∏–±–∫–∏
              </label>
            </div>
          </div>
        </div>
      `,
      setup() {
        const files = ref([
          { name: 'document1.json', size: 125 },
          { name: 'document2.json', size: 312 },
          { name: 'document3.json', size: 208 },
          { name: 'document4.json', size: 564 },
          { name: 'document5.json', size: 183 }
        ]);
        
        const currentFileIndex = ref(-1);
        const fileStatuses = ref(Array(files.value.length).fill('pending'));
        const processingStatus = ref('idle');
        const isProcessing = ref(false);
        const isCompleted = ref(false);
        const simulateErrors = ref(false);
        
        const progressPercentage = computed(() => {
          const totalFiles = files.value.length;
          const completedFiles = fileStatuses.value.filter(s => s === 'success' || s === 'error').length;
          
          if (completedFiles === 0) return 0;
          
          // –£—á–∏—Ç—ã–≤–∞–µ–º —Ç–∞–∫–∂–µ —Ç–µ–∫—É—â—É—é —Å—Ç–∞–¥–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏
          let currentProgress = 0;
          if (currentFileIndex.value >= 0 && currentFileIndex.value < totalFiles) {
            if (processingStatus.value === 'downloading') {
              currentProgress = 0.3;
            } else if (processingStatus.value === 'processing') {
              currentProgress = 0.7;
            } else if (processingStatus.value === 'saving') {
              currentProgress = 0.9;
            }
          }
          
          return Math.round((completedFiles + currentProgress) / totalFiles * 100);
        });
        
        const progressText = computed(() => {
          const totalFiles = files.value.length;
          const completedFiles = fileStatuses.value.filter(s => s === 'success' || s === 'error').length;
          const successFiles = fileStatuses.value.filter(s => s === 'success').length;
          const errorFiles = fileStatuses.value.filter(s => s === 'error').length;
          
          if (completedFiles === 0) {
            return '–û–∂–∏–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏';
          } else if (completedFiles < totalFiles) {
            return `–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ ${completedFiles} –∏–∑ ${totalFiles} —Ñ–∞–π–ª–æ–≤ (${successFiles} —É—Å–ø–µ—à–Ω–æ, ${errorFiles} —Å –æ—à–∏–±–∫–∞–º–∏)`;
          } else {
            return `–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –£—Å–ø–µ—à–Ω–æ: ${successFiles}, —Å –æ—à–∏–±–∫–∞–º–∏: ${errorFiles}`;
          }
        });
        
        function getFileStatusText(index) {
          if (currentFileIndex.value > index) {
            return fileStatuses.value[index] === 'success' ? '–û–±—Ä–∞–±–æ—Ç–∞–Ω' : '–û—à–∏–±–∫–∞';
          } else if (currentFileIndex.value === index) {
            return '–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è...';
          } else {
            return '–í –æ—á–µ—Ä–µ–¥–∏';
          }
        }
        
        async function startProcessing() {
          isProcessing.value = true;
          currentFileIndex.value = 0;
          
          for (let i = 0; i < files.value.length; i++) {
            currentFileIndex.value = i;
            
            // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
            processingStatus.value = 'downloading';
            await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 500));
            
            // –°–∏–º—É–ª—è—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–∞
            processingStatus.value = 'processing';
            await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 800));
            
            // –°–∏–º—É–ª—è—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞
            processingStatus.value = 'saving';
            await new Promise(resolve => setTimeout(resolve, 600 + Math.random() * 400));
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            const success = !simulateErrors.value || Math.random() > 0.3;
            fileStatuses.value[i] = success ? 'success' : 'error';
          }
          
          currentFileIndex.value = files.value.length;
          processingStatus.value = 'idle';
          isProcessing.value = false;
          isCompleted.value = true;
        }
        
        function reset() {
          currentFileIndex.value = -1;
          fileStatuses.value = Array(files.value.length).fill('pending');
          processingStatus.value = 'idle';
          isProcessing.value = false;
          isCompleted.value = false;
        }
        
        return {
          files,
          currentFileIndex,
          fileStatuses,
          processingStatus,
          isProcessing,
          isCompleted,
          simulateErrors,
          progressPercentage,
          progressText,
          getFileStatusText,
          startProcessing,
          reset
        };
      }
    }),
    tips: [
      "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ reduce —Å async/await –¥–ª—è —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Å—Å–∏–≤–∞ –¥–∞–Ω–Ω—ã—Ö.",
      "–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ async/await, —Ü–∏–∫–ª for...of –æ–±—ã—á–Ω–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.",
      "–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ forEach –∏–ª–∏ map —Å await - –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è.",
      "–î–æ–±–∞–≤–ª—è–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞, —á—Ç–æ–±—ã –æ—à–∏–±–∫–∞ –≤ –æ–¥–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞ –≤—Å—é —Ü–µ–ø–æ—á–∫—É."
    ]
  }
];

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
function switchTab(index) {
  currentTab.value = index;
  
  // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–∏
  if (index === 0) {
    // –ß—Ç–æ —Ç–∞–∫–æ–µ Promise
    currentState.value = 'pending';
    showExampleResult.value = false;
    exampleLogs.value = [];
  } else if (index === 1) {
    // –ú–µ—Ç–æ–¥—ã Promise
    currentMethod.value = 0;
  } else if (index === 2) {
    // –¶–µ–ø–æ—á–∫–∏ Promise
    resetChain();
  } else if (index === 3) {
    // Async/Await
    currentTransformStep.value = 0;
    showAsyncResult.value = false;
    asyncLogs.value = [];
  } else if (index === 4) {
    // –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã
    currentExample.value = 0;
  }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏ Promise
function switchMethod(index) {
  currentMethod.value = index;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏
function switchExample(index) {
  currentExample.value = index;
}
</script>

<style scoped>
.promise-explorer {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  color: #333;
  background-color: #f8f9fa;
  border-radius: 8px;
}

h1, h2, h3, h4 {
  color: #2c3e50;
}

h1 {
  text-align: center;
  font-size: 2rem;
  margin-bottom: 30px;
}

h2 {
  border-bottom: 2px solid #3498db;
  padding-bottom: 10px;
  margin-bottom: 20px;
  font-size: 1.6rem;
}

h3 {
  font-size: 1.3rem;
  margin-top: 25px;
  margin-bottom: 15px;
}

.highlight {
  color: #e74c3c;
  font-weight: bold;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–æ–≤ */
.tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.tab-button {
  padding: 10px 20px;
  background-color: #e9ecef;
  border: none;
  border-radius: 6px;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.tab-button:hover {
  background-color: #dee2e6;
}

.tab-button.active {
  background-color: #3498db;
  color: white;
}

.content-container {
  background-color: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.tab-content {
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–¥–≤–∫–ª–∞–¥–æ–∫ */
.subtabs {
  display: flex;
  gap: 10px;
  margin: 20px 0;
  border-bottom: 1px solid #e9ecef;
  padding-bottom: 10px;
  overflow-x: auto;
}

.subtab-button {
  padding: 8px 15px;
  background-color: #f8f9fa;
  border: 1px solid #dee2e6;
  border-radius: 4px;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.subtab-button:hover {
  background-color: #e9ecef;
}

.subtab-button.active {
  background-color: #4caf50;
  color: white;
  border-color: #4caf50;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è */
.explanation {
  margin-bottom: 20px;
  line-height: 1.6;
}

.explanation p {
  margin-bottom: 15px;
}

.explanation ul {
  margin-left: 20px;
  margin-bottom: 15px;
}

.explanation li {
  margin-bottom: 5px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ Promise */
.promise-animation {
  margin: 30px 0;
}

.animation-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 30px;
  margin-top: 20px;
}

.promise-state-wrapper {
  position: relative;
  width: 200px;
  height: 200px;
}

.promise-state {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.5s ease;
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
}

.promise-state.pending {
  background-color: #e9ecef;
  border: 5px solid #6c757d;
}

.promise-state.fulfilled {
  background-color: #d4edda;
  border: 5px solid #28a745;
}

.promise-state.rejected {
  background-color: #f8d7da;
  border: 5px solid #dc3545;
}

.state-icon {
  font-size: 3rem;
  margin-bottom: 10px;
}

.state-label {
  font-weight: bold;
  text-align: center;
}

.control-buttons {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
}

.control-button {
  padding: 10px 20px;
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.control-button:hover:not(:disabled) {
  background-color: #5a6268;
  transform: translateY(-2px);
}

.control-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.control-button.pending {
  background-color: #6c757d;
}

.control-button.fulfilled {
  background-color: #28a745;
}

.control-button.rejected {
  background-color: #dc3545;
}

.control-button.animate {
  background-color: #17a2b8;
}

.control-button.success {
  background-color: #28a745;
}

.control-button.danger {
  background-color: #dc3545;
}

.control-button.small {
  padding: 6px 12px;
  font-size: 0.9rem;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–¥–∞ */
.code-container {
  margin-bottom: 30px;
}

.code {
  margin: 0;
  padding: 15px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
  font-size: 0.9rem;
  line-height: 1.5;
  overflow-x: auto;
  white-space: pre;
  background-color: #2d2d2d;
  color: #f8f8f2;
  border-radius: 6px;
}

.run-button {
  margin-top: 10px;
  padding: 8px 16px;
  background-color: #3498db;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.run-button:hover {
  background-color: #2980b9;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è */
.result-container {
  margin-top: 20px;
  padding: 15px;
  background-color: #f8f9fa;
  border-radius: 6px;
  border-left: 3px solid #3498db;
}

.console-output {
  background-color: #2d2d2d;
  color: #f8f8f2;
  padding: 15px;
  border-radius: 4px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
  margin-top: 10px;
}

.log-item {
  margin-bottom: 5px;
  line-height: 1.5;
}

.log-item.info {
  color: #17a2b8;
}

.log-item.success {
  color: #28a745;
}

.log-item.error {
  color: #dc3545;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ Promise */
.method-container {
  animation: fadeIn 0.5s ease;
}

.method-description {
  margin-bottom: 20px;
  line-height: 1.6;
}

.method-animation {
  margin: 20px 0;
  padding: 20px;
  background-color: #f8f9fa;
  border-radius: 8px;
}

.method-notes {
  margin-top: 20px;
  padding: 15px;
  background-color: #e8f5e9;
  border-radius: 6px;
  border-left: 3px solid #4caf50;
}

.method-notes h4 {
  margin-top: 0;
  color: #2e7d32;
  margin-bottom: 10px;
}

.method-notes ul {
  margin-left: 20px;
  margin-bottom: 0;
}

.method-notes li {
  margin-bottom: 8px;
  line-height: 1.5;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ then/catch */
.then-catch-visualization {
  padding: 20px;
}

.promise-flow {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  margin-bottom: 20px;
}

.promise-box {
  width: 200px;
  padding: 15px;
  border-radius: 8px;
  text-align: center;
  transition: all 0.5s ease;
}

.promise-box.pending {
  background-color: #e9ecef;
  border: 2px solid #6c757d;
}

.promise-box.fulfilled {
  background-color: #d4edda;
  border: 2px solid #28a745;
}

.promise-box.rejected {
  background-color: #f8d7da;
  border: 2px solid #dc3545;
}

.promise-title {
  font-weight: bold;
  margin-bottom: 8px;
}

.promise-value {
  font-family: monospace;
  padding: 5px;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 4px;
  margin-bottom: 8px;
}

.promise-state {
  font-size: 0.9rem;
  color: #6c757d;
}

.handlers-container {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  justify-content: center;
}

.handler {
  width: 180px;
  padding: 12px;
  border-radius: 6px;
  text-align: center;
  background-color: #f8f9fa;
  border: 1px solid #dee2e6;
  opacity: 0.5;
  transform: translateY(10px);
  transition: all 0.5s ease;
}

.handler.active {
  opacity: 1;
  transform: translateY(0);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.then-handler.active {
  background-color: #d4edda;
  border-color: #28a745;
}

.catch-handler.active {
  background-color: #f8d7da;
  border-color: #dc3545;
}

.finally-handler.active {
  background-color: #e6f3f8;
  border-color: #17a2b8;
}

.handler-title {
  font-weight: bold;
  margin-bottom: 8px;
}

.handler-content {
  font-size: 0.9rem;
  color: #495057;
}

.visualization-controls {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 20px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è all, allSettled, race, any */
.all-methods-visualization {
  padding: 20px;
}

.promises-container {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 30px;
}

.promise-item {
  width: 150px;
  padding: 12px;
  border-radius: 6px;
  text-align: center;
  transition: all 0.5s ease;
}

.promise-item.pending {
  background-color: #e9ecef;
  border: 2px solid #6c757d;
}

.promise-item.fulfilled {
  background-color: #d4edda;
  border: 2px solid #28a745;
}

.promise-item.rejected {
  background-color: #f8d7da;
  border: 2px solid #dc3545;
}

.method-result {
  max-width: 500px;
  margin: 0 auto 20px;
  padding: 15px;
  background-color: #f8f9fa;
  border-radius: 6px;
  border: 1px solid #dee2e6;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.5s ease;
  text-align: center;
}

.method-result.active {
  opacity: 1;
  transform: translateY(0);
}

.result-title {
  font-weight: bold;
  margin-bottom: 10px;
  color: #3498db;
}

.result-value {
  font-family: monospace;
  padding: 10px;
  background-color: #2d2d2d;
  color: #f8f8f2;
  border-radius: 4px;
  text-align: left;
  white-space: pre-wrap;
  word-break: break-word;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ü–µ–ø–æ—á–∫–∏ Promise */
.chain-animation {
  margin: 30px 0;
}

.chain-container {
  margin-top: 20px;
}

.promise-chain {
  display: flex;
  flex-direction: column;
  gap: 40px;
  margin-bottom: 30px;
  position: relative;
}

.chain-block {
  max-width: 500px;
  margin: 0 auto;
  padding: 15px;
  background-color: #f8f9fa;
  border-radius: 8px;
  border: 2px solid #dee2e6;
  opacity: 0.5;
  transition: all 0.5s ease;
  position: relative;
}

.chain-block.active {
  opacity: 1;
  border-color: #3498db;
  background-color: #ebf5fb;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.chain-block.completed {
  opacity: 1;
  border-color: #28a745;
  background-color: #d4edda;
}

.block-content {
  text-align: left;
}

.block-title {
  font-weight: bold;
  margin-bottom: 10px;
}

.block-code {
  font-family: monospace;
  padding: 10px;
  background-color: #2d2d2d;
  color: #f8f8f2;
  border-radius: 4px;
  white-space: pre-wrap;
}

.chain-connector {
  position: absolute;
  bottom: -30px;
  left: 50%;
  transform: translateX(-50%);
  height: 30px;
  width: 2px;
  background-color: #3498db;
}

.connector-line {
  height: 20px;
  width: 2px;
  background-color: #3498db;
  margin: 0 auto;
}

.connector-arrow {
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 8px solid #3498db;
  margin: 0 auto;
}

.chain-controls {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 20px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∫–æ–ª–±—ç–∫–æ–≤ vs Promise */
.comparison-container {
  margin-top: 40px;
}

.code-comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-top: 20px;
}

.callback-hell, .promise-chain-code {
  padding: 15px;
  background-color: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #dee2e6;
}

.callback-hell h4, .promise-chain-code h4 {
  margin-top: 0;
  margin-bottom: 15px;
  text-align: center;
}

.callback-hell .code, .promise-chain-code .code {
  height: 400px;
  overflow-y: auto;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ Async/Await */
.async-animation {
  margin: 30px 0;
}

.transform-container {
  display: grid;
  grid-template-columns: 300px 1fr;
  gap: 20px;
  margin-top: 20px;
}

.transform-steps {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.transform-step {
  display: flex;
  padding: 15px;
  background-color: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #dee2e6;
  opacity: 0.6;
  transition: all 0.3s ease;
}

.transform-step.active {
  opacity: 1;
  border-color: #3498db;
  background-color: #ebf5fb;
}

.transform-step.complete {
  opacity: 1;
  border-color: #28a745;
  background-color: #d4edda;
}

.step-number {
  width: 30px;
  height: 30px;
  background-color: #3498db;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin-right: 15px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: bold;
  margin-bottom: 5px;
}

.step-description {
  font-size: 0.9rem;
  color: #6c757d;
}

.transform-code-container {
  position: relative;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.code-transition {
  height: 400px;
  overflow: hidden;
}

.transition-code {
  transition: transform 0.5s ease;
}

.code-step {
  height: 400px;
  overflow-y: auto;
}

.transform-controls {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 20px;
}

.key-points {
  margin-top: 30px;
  padding: 20px;
  background-color: #e8f5e9;
  border-radius: 8px;
  border-left: 4px solid #4caf50;
}

.key-points h3 {
  margin-top: 0;
  color: #2e7d32;
}

.key-points ul {
  margin-left: 20px;
  margin-bottom: 0;
}

.key-points li {
  margin-bottom: 10px;
  line-height: 1.6;
}

.code-example {
  margin-top: 30px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ */
.example-container {
  animation: fadeIn 0.5s ease;
}

.example-description {
  margin-bottom: 20px;
  line-height: 1.6;
}

.example-visualization {
  margin: 20px 0;
  padding: 20px;
  background-color: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #dee2e6;
}

.example-tips {
  margin-top: 20px;
  padding: 15px;
  background-color: #ffebee;
  border-radius: 6px;
  border-left: 3px solid #f44336;
}

.example-tips h4 {
  margin-top: 0;
  color: #c62828;
  margin-bottom: 10px;
}

.example-tips ul {
  margin-left: 20px;
  margin-bottom: 0;
}

.example-tips li {
  margin-bottom: 8px;
  line-height: 1.5;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ fetch */
.fetch-visualization {
  padding: 20px;
}

.server-client-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 40px;
  margin-bottom: 30px;
}

.server-side, .client-side {
  width: 200px;
  padding: 15px;
  background-color: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #dee2e6;
  text-align: center;
}

.server-icon, .client-icon {
  font-size: 2rem;
  margin-bottom: 10px;
}

.server-label, .client-label {
  font-weight: bold;
  margin-bottom: 10px;
}

.server-state {
  font-size: 0.9rem;
  color: #6c757d;
}

.client-code {
  font-family: monospace;
  padding: 5px;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 4px;
  margin: 10px 0;
}

.client-promise {
  font-size: 0.9rem;
  padding: 5px;
  border-radius: 4px;
  transition: all 0.5s ease;
}

.promise-pending {
  background-color: #e9ecef;
  color: #6c757d;
}

.promise-fulfilled {
  background-color: #d4edda;
  color: #28a745;
}

.promise-rejected {
  background-color: #f8d7da;
  color: #dc3545;
}

.connection {
  position: relative;
  height: 10px;
  flex: 1;
  max-width: 200px;
}

.connection-line {
  height: 2px;
  background-color: #dee2e6;
  width: 100%;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  transition: background-color 0.5s ease;
}

.connection.active .connection-line {
  background-color: #3498db;
}

.connection.aborted .connection-line {
  background-color: #dc3545;
}

.data-packet {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 1.5rem;
  animation: movePacket 2s infinite;
}

.data-packet.packet-error {
  color: #dc3545;
}

.data-packet.packet-success {
  color: #28a745;
}

@keyframes movePacket {
  0%, 100% { transform: translate(-50%, -50%); }
  50% { transform: translate(-50%, -150%); }
}

.response-container {
  margin-top: 20px;
  max-width: 500px;
  margin-left: auto;
  margin-right: auto;
}

.response-data {
  font-family: monospace;
  padding: 15px;
  background-color: #2d2d2d;
  color: #f8f8f2;
  border-radius: 6px;
  white-space: pre-wrap;
  max-height: 200px;
  overflow-y: auto;
}

.loading-indicator {
  text-align: center;
  margin: 20px 0;
}

.loading-spinner {
  display: inline-block;
  width: 30px;
  height: 30px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  border-top-color: #3498db;
  animation: spin 1s linear infinite;
  margin-right: 10px;
}

.loading-text {
  display: inline-block;
  vertical-align: middle;
  font-size: 0.9rem;
  color: #6c757d;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.abort-marker {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 1.5rem;
  color: #dc3545;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.2); }
  100% { transform: translate(-50%, -50%) scale(1); }
}

.abort-controls {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 20px;
}

.request-info {
  margin-top: 20px;
  padding: 15px;
  border-radius: 6px;
  background-color: #f8f9fa;
  text-align: center;
}

.info-status {
  font-weight: bold;
  margin-bottom: 10px;
}

.info-status.error {
  color: #dc3545;
}

.info-status.success {
  color: #28a745;
}

.info-message {
  font-size: 0.9rem;
  color: #6c757d;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ */
.parallel-loading-visualization {
  padding: 20px;
}

.resources-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 15px;
  margin-bottom: 30px;
}

.resource-item {
  padding: 15px;
  background-color: #f8f9fa;
  border-radius: 6px;
  border: 1px solid #dee2e6;
  transition: all 0.3s ease;
}

.resource-item.loading {
  border-color: #3498db;
  background-color: #ebf5fb;
}

.resource-item.success {
  border-color: #28a745;
  background-color: #d4edda;
}

.resource-item.error {
  border-color: #dc3545;
  background-color: #f8d7da;
}

.resource-title {
  font-weight: bold;
  margin-bottom: 10px;
}

.resource-status {
  font-size: 0.9rem;
  color: #6c757d;
  margin-bottom: 10px;
}

.resource-progress {
  height: 5px;
  background-color: #e9ecef;
  border-radius: 3px;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  background-color: #3498db;
  border-radius: 3px;
  transition: width 0.3s ease;
}

.dashboard-container {
  max-width: 600px;
  margin: 0 auto 30px;
  padding: 20px;
  background-color: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #dee2e6;
  text-align: center;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.5s ease;
}

.dashboard-container.active {
  opacity: 1;
  transform: translateY(0);
}

.dashboard-label {
  font-weight: bold;
  margin-bottom: 10px;
}

.dashboard-status {
  font-size: 0.9rem;
  color: #6c757d;
}

.loading-options {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  margin-top: 10px;
  gap: 5px;
}

.loading-options label {
  font-size: 0.9rem;
  display: flex;
  align-items: center;
}

.loading-options input[type="checkbox"] {
  margin-right: 5px;
}

.progress-bar-container {
  height: 8px;
  background-color: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 10px;
}

.progress-text {
  font-size: 0.9rem;
  color: #6c757d;
  text-align: center;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è */
.sequential-visualization {
  padding: 20px;
}

.files-pipeline {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin-bottom: 30px;
}

.file-item {
  display: flex;
  align-items: center;
  padding: 15px;
  background-color: #f8f9fa;
  border-radius: 6px;
  border: 1px solid #dee2e6;
  transition: all 0.3s ease;
}

.file-item.active {
  border-color: #3498db;
  background-color: #ebf5fb;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.file-item.completed.success {
  border-color: #28a745;
  background-color: #d4edda;
}

.file-item.completed.error {
  border-color: #dc3545;
  background-color: #f8d7da;
}

.file-item.pending {
  opacity: 0.6;
}

.file-icon {
  font-size: 1.5rem;
  margin-right: 15px;
}

.file-name {
  font-weight: bold;
  flex: 1;
}

.file-status {
  font-size: 0.9rem;
  color: #6c757d;
  margin-right: 15px;
}

.processing-indicator {
  padding: 5px 10px;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 4px;
  font-size: 0.9rem;
}

.processing-stage {
  display: flex;
  align-items: center;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 768px) {
  .code-comparison {
    grid-template-columns: 1fr;
  }
  
  .transform-container {
    grid-template-columns: 1fr;
  }
  
  .server-client-container {
    flex-direction: column;
  }
  
  .connection {
    width: 10px;
    height: 40px;
    max-width: none;
  }
  
  .connection-line {
    width: 2px;
    height: 100%;
    left: 50%;
    top: 0;
    transform: translateX(-50%);
  }
  
  .data-packet {
    animation: movePacketVertical 2s infinite;
  }
  
  @keyframes movePacketVertical {
    0%, 100% { transform: translate(-50%, -50%); }
    50% { transform: translate(-150%, -50%); }
  }
}

@media (max-width: 576px) {
  .tabs {
    flex-direction: column;
  }
  
  .promise-state-wrapper {
    width: 150px;
    height: 150px;
  }
  
  .state-icon {
    font-size: 2rem;
  }
  
  .state-label {
    font-size: 0.9rem;
  }
  
  .handlers-container {
    flex-direction: column;
  }
  
  .promises-container {
    flex-direction: column;
    align-items: center;
  }
  
  .promise-item {
    width: 100%;
    max-width: 250px;
  }
}
</style>