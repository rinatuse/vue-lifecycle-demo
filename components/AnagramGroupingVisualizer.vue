<template>
    <div class="anagram-visualizer">
      <h1>–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∞–Ω–∞–≥—Ä–∞–º–º: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–ª–≥–æ—Ä–∏—Ç–º</h1>
      
      <section class="problem-description">
        <h2>–ó–∞–¥–∞—á–∞</h2>
        <div class="description-card">
          <p class="task-description">
            –ü–æ–ª—É—á–∏–≤ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ <code>strs</code>, —Å–≥—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –∞–Ω–∞–≥—Ä–∞–º–º—ã –≤–º–µ—Å—Ç–µ. 
            –í—ã –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ.
          </p>
          <p>
            <strong>–ê–Ω–∞–≥—Ä–∞–º–º–∞</strong> - —ç—Ç–æ —Å–ª–æ–≤–æ –∏–ª–∏ —Ñ—Ä–∞–∑–∞, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—É—Ç–µ–º –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ 
            –±—É–∫–≤ –¥—Ä—É–≥–æ–≥–æ —Å–ª–æ–≤–∞ –∏–ª–∏ —Ñ—Ä–∞–∑—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, <code>"tea"</code> –∏ <code>"eat"</code> - –∞–Ω–∞–≥—Ä–∞–º–º—ã.
          </p>
          <div class="example">
            <p><strong>–ü—Ä–∏–º–µ—Ä:</strong></p>
            <pre>–í—Ö–æ–¥: strs = ["eat", "tea", "tan", "ate", "nat", "bat"]
  –í—ã—Ö–æ–¥: [["bat"],["nat","tan"],["ate","eat","tea"]]</pre>
          </div>
        </div>
      </section>
      
      <section class="solution-approach">
        <h2>–ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é</h2>
        <div class="algorithm-card">
          <p>–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è —Ä–µ—à–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö –∞–Ω–∞–≥—Ä–∞–º–º:</p>
          
          <div class="insight-box">
            <div class="insight-icon">üí°</div>
            <p><strong>–ö–ª—é—á–µ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ:</strong> –í—Å–µ –∞–Ω–∞–≥—Ä–∞–º–º—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤ –∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ –º—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É–µ–º —Å–∏–º–≤–æ–ª—ã –≤ –∫–∞–∂–¥–æ–º —Å–ª–æ–≤–µ, –∞–Ω–∞–≥—Ä–∞–º–º—ã –±—É–¥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ–æ—Ä–º—É!</p>
          </div>
          
          <h3>–ê–ª–≥–æ—Ä–∏—Ç–º:</h3>
          <ol>
            <li>–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –≤ –º–∞—Å—Å–∏–≤–µ:</li>
            <ul>
              <li>–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª—ã —Å–ª–æ–≤–∞ (–ø–æ–ª—É—á–∏–≤ "–∫–ª—é—á" –∞–Ω–∞–≥—Ä–∞–º–º—ã)</li>
              <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–ª—é—á –≤ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–µ –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏</li>
            </ul>
            <li>–í–µ—Ä–Ω—É—Ç—å –≤—Å–µ –≥—Ä—É–ø–ø—ã –∏–∑ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã –∫–∞–∫ –æ—Ç–≤–µ—Ç</li>
          </ol>
          
          <div class="complexity">
            <p><strong>–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:</strong> O(n * k * log k), –≥–¥–µ n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤, k - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–ª–æ–≤–∞</p>
            <p><strong>–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:</strong> O(n * k)</p>
          </div>
        </div>
      </section>
      
      <section class="code-solution">
        <h2>–†–µ—à–µ–Ω–∏–µ</h2>
        <div class="code-card">
          <pre class="code"><code>const groupAnagrams = (strs) => {
    // –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∞–Ω–∞–≥—Ä–∞–º–º
    const anagramGroups = new Map();
    
    // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –∫–∞–∂–¥–æ–º—É —Å–ª–æ–≤—É –≤ –º–∞—Å—Å–∏–≤–µ
    for (const word of strs) {
      // –°–æ–∑–¥–∞–µ–º –∫–ª—é—á, —Å–æ—Ä—Ç–∏—Ä—É—è —Å–∏–º–≤–æ–ª—ã —Å–ª–æ–≤–∞
      const sortedWord = word.split('').sort().join('');
      
      // –ï—Å–ª–∏ –∫–ª—é—á —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –¥–æ–±–∞–≤–ª—è–µ–º —Å–ª–æ–≤–æ –≤ —ç—Ç—É –≥—Ä—É–ø–ø—É
      // –ò–Ω–∞—á–µ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É
      if (anagramGroups.has(sortedWord)) {
        anagramGroups.get(sortedWord).push(word);
      } else {
        anagramGroups.set(sortedWord, [word]);
      }
    }
    
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Å–µ –≥—Ä—É–ø–ø—ã –∞–Ω–∞–≥—Ä–∞–º–º –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞
    return Array.from(anagramGroups.values());
  };</code></pre>
          
          <div class="code-explanation">
            <p><strong>–ü–æ—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞:</strong></p>
            <ol>
              <li>–°–æ–∑–¥–∞–µ–º <code>Map</code> –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥—Ä—É–ø–ø –∞–Ω–∞–≥—Ä–∞–º–º</li>
              <li>–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –≤—ã—á–∏—Å–ª—è–µ–º "–æ—Ç–ø–µ—á–∞—Ç–æ–∫" –∞–Ω–∞–≥—Ä–∞–º–º—ã: —Å–æ—Ä—Ç–∏—Ä—É–µ–º –±—É–∫–≤—ã</li>
              <li>–ò—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç–æ—Ç –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –∫–∞–∫ –∫–ª—é—á –≤ Map –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏</li>
              <li>–í –∫–æ–Ω—Ü–µ —Å–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –≥—Ä—É–ø–ø—ã (–∑–Ω–∞—á–µ–Ω–∏—è Map) –≤ –º–∞—Å—Å–∏–≤</li>
            </ol>
          </div>
        </div>
      </section>
      
      <section class="algorithm-visualization">
        <h2>–ü–æ—à–∞–≥–æ–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</h2>
        <div class="visualization-card">
          <div class="controls">
            <button :disabled="isPlaying || currentStep === 0" @click="resetVisualization">–°–±—Ä–æ—Å–∏—Ç—å</button>
            <button :disabled="isPlaying" @click="startVisualization">
              {{ currentStep === steps.length - 1 ? '–ü–æ–≤—Ç–æ—Ä–∏—Ç—å' : '–ù–∞—á–∞—Ç—å' }}
            </button>
            <button :disabled="!isPlaying" @click="pauseVisualization">–ü–∞—É–∑–∞</button>
            <button :disabled="isPlaying || currentStep === steps.length - 1" @click="nextStep">–í–ø–µ—Ä–µ–¥</button>
          </div>
          
          <div class="visualization-container">
            <div class="step-info">
              <div class="step-number">–®–∞–≥ {{ currentStep + 1 }} –∏–∑ {{ steps.length }}</div>
              <div class="step-description">{{ steps[currentStep].description }}</div>
            </div>
            
            <div class="visualization-content">
              <!-- –ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤ -->
              <div class="input-array">
                <h3>–ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤:</h3>
                <div class="array-container">
                  <div 
                    v-for="(word, index) in initialArray" 
                    :key="`input-${index}`"
                    class="array-item"
                    :class="{ 
                      'current': currentStep > 0 && steps[currentStep].currentWordIndex === index,
                      'processed': currentStep > 0 && steps[currentStep].currentWordIndex > index
                    }"
                  >
                    {{ word }}
                  </div>
                </div>
              </div>
              
              <!-- –¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å -->
              <div class="current-process" v-if="currentStep > 0">
                <div class="process-container">
                  <div class="current-word" v-if="steps[currentStep].currentWord">
                    <span>–¢–µ–∫—É—â–µ–µ —Å–ª–æ–≤–æ:</span>
                    <div class="word-box">{{ steps[currentStep].currentWord }}</div>
                  </div>
                  
                  <div class="sorting-process" v-if="steps[currentStep].sortingSteps">
                    <span>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</span>
                    <div class="sorting-box">
                      <div class="sorting-step" 
                           v-for="(step, idx) in steps[currentStep].sortingSteps" 
                           :key="`sort-${idx}`"
                      >
                        {{ step }}
                      </div>
                      <div class="arrow" v-if="steps[currentStep].sortingSteps.length > 0">‚Üí</div>
                      <div class="sorted-result">{{ steps[currentStep].sortedWord }}</div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞ (Map) -->
              <div class="hash-map">
                <h3>–•–µ—à-—Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏:</h3>
                <div class="map-container">
                  <div 
                    v-for="(group, key) in steps[currentStep].anagramGroups" 
                    :key="`group-${key}`" 
                    class="map-entry"
                    :class="{ 'highlight': key === steps[currentStep].sortedWord }"
                  >
                    <div class="map-key">{{ key }}</div>
                    <div class="map-value">
                      <div 
                        v-for="(word, wordIdx) in group" 
                        :key="`word-${wordIdx}`"
                        class="group-word"
                        :class="{ 'last-added': word === steps[currentStep].currentWord && key === steps[currentStep].sortedWord }"
                      >
                        {{ word }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
            <div class="result" v-if="currentStep === steps.length - 1">
              <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h3>
              <div class="result-container">
                <div 
                  v-for="(group, idx) in Object.values(steps[currentStep].anagramGroups)" 
                  :key="`result-${idx}`"
                  class="result-group"
                >
                  [{{ group.join(", ") }}]
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <section class="optimizations">
        <h2>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏</h2>
        <div class="optimizations-card">
          <div class="optimization-item">
            <h3>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –≤—ã—á–∏—Å–ª–µ–Ω–∏—é –∫–ª—é—á–∞</h3>
            <p>–í–º–µ—Å—Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±—É–∫–≤ (O(k log k)) –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Å—á–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤ (O(k)):</p>
            <pre class="code"><code>const getKey = (word) => {
    const count = Array(26).fill(0);
    
    for (const char of word) {
      const index = char.charCodeAt(0) - 'a'.charCodeAt(0);
      count[index]++;
    }
    
    // –°–æ–∑–¥–∞–µ–º –∫–ª—é—á –≤–∏–¥–∞ "a1b2c3..."
    return count.map((cnt, idx) => {
      if (cnt > 0) {
        return String.fromCharCode(idx + 'a'.charCodeAt(0)) + cnt;
      }
      return '';
    }).join('');
  };</code></pre>
            <p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:</strong> –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —É–ª—É—á—à–∞–µ—Ç—Å—è –¥–æ O(n * k), –≥–¥–µ n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤, k - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–ª–æ–≤–∞.</p>
          </div>
          
          <div class="optimization-item">
            <h3>–ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏</h3>
            <ul>
              <li>
                <strong>–†–µ–≥–∏—Å—Ç—Ä–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:</strong> –ë—É–∫–≤—ã "A" –∏ "a" –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –∫–æ–¥—ã. –ù—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å, 
                –±—É–¥–µ—Ç –ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É.
              </li>
              <li>
                <strong>–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã:</strong> –ï—Å–ª–∏ –≤ —Å–ª–æ–≤–∞—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, 
                –Ω–æ –∏ –¥—Ä—É–≥–∏–µ —Å–∏–º–≤–æ–ª—ã, –Ω—É–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ.
              </li>
              <li>
                <strong>–ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏:</strong> –ê–ª–≥–æ—Ä–∏—Ç–º –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, 
                –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ–ø—É—Å—Ç–∏–º—ã –≤–æ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
              </li>
              <li>
                <strong>–ë–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ:</strong> –î–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤ —Å—Ç—Ä–æ–∫ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è 
                –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ –ø–∞–º—è—Ç–∏.
              </li>
            </ul>
          </div>
        </div>
      </section>
      
      <section class="real-world-applications">
        <h2>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</h2>
        <div class="applications-card">
          <div class="application-item">
            <h3>1. –ü–æ–∏—Å–∫–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—á–∞—Ç–æ–∫</h3>
            <p>
              –ü–æ–∏—Å–∫–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –∞–Ω–∞–≥—Ä–∞–º–º –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—á–∞—Ç–æ–∫ 
              –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª "—Ç—Å–æ–ª" –≤–º–µ—Å—Ç–æ "—Å—Ç–æ–ª".
            </p>
          </div>
          
          <div class="application-item">
            <h3>2. –ò–≥—Ä—ã —Å–æ —Å–ª–æ–≤–∞–º–∏</h3>
            <p>
              –ò–≥—Ä—ã —Ç–∏–ø–∞ "–≠—Ä—É–¥–∏—Ç" (Scrabble) –∏–ª–∏ –∫—Ä–æ—Å—Å–≤–æ—Ä–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–Ω–∞–≥—Ä–∞–º–º—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö 
              –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å–ª–æ–≤ –∏–∑ –∏–º–µ—é—â–∏—Ö—Å—è –±—É–∫–≤.
            </p>
          </div>
          
          <div class="application-item">
            <h3>3. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ –∏ –ª–∏–Ω–≥–≤–∏—Å—Ç–∏–∫–∞</h3>
            <p>
              –õ–∏–Ω–≥–≤–∏—Å—Ç—ã –∏ —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –º–æ–≥—É—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç—ã, 
              –≥—Ä—É–ø–ø–∏—Ä—É—è —Å–ª–æ–≤–∞-–∞–Ω–∞–≥—Ä–∞–º–º—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–µ–π.
            </p>
          </div>
          
          <div class="application-item">
            <h3>4. –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
            <p>
              –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—É–∫–≤. –ê–Ω–∞–ª–∏–∑ –∞–Ω–∞–≥—Ä–∞–º–º –º–æ–∂–µ—Ç 
              –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –ø—Ä–∏ –∫—Ä–∏–ø—Ç–æ–∞–Ω–∞–ª–∏–∑–µ.
            </p>
          </div>
          
          <div class="application-item">
            <h3>5. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–ª–∞–≥–∏–∞—Ç–∞</h3>
            <p>
              –ê–Ω–∞–≥—Ä–∞–º–º—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–ª–∞–≥–∏–∞—Ç–∞ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è 
              –ø–µ—Ä–µ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Ç–µ–∫—Å—Ç–∞.
            </p>
          </div>
        </div>
      </section>
      
      <section class="interview-tips">
        <h2>–°–æ–≤–µ—Ç—ã –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–π</h2>
        <div class="tips-card">
          <div class="tip-item">
            <h3>1. –û–±—Å—É–¥–∏—Ç–µ –ø–æ–¥—Ö–æ–¥ –ø–µ—Ä–µ–¥ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º</h3>
            <p>
              –û–±—ä—è—Å–Ω–∏—Ç–µ –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä—É —Å–≤–æ–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á–∏, –ø–æ—á–µ–º—É –≤—ã –≤—ã–±—Ä–∞–ª–∏ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥, 
              –∏ –∫–∞–∫–∏–µ –µ—â–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏.
            </p>
          </div>
          
          <div class="tip-item">
            <h3>2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å</h3>
            <p>
              –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è. 
              –û–±—Å—É–¥–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
            </p>
          </div>
          
          <div class="tip-item">
            <h3>3. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏</h3>
            <p>
              –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±—Å—É–¥–∏—Ç—å, –∫–∞–∫ –≤–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏: –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, 
              –º–∞—Å—Å–∏–≤ —Å –æ–¥–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º, —Å–ª–æ–≤–∞ —Å –æ—Å–æ–±—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –∏ —Ç.–¥.
            </p>
          </div>
          
          <div class="tip-item">
            <h3>4. –ü–æ–¥—É–º–∞–π—Ç–µ –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö</h3>
            <p>
              –ë—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã –∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –≤–æ–ø—Ä–æ—Å–∞–º, —Ç–∞–∫–∏–º –∫–∞–∫: "–ö–∞–∫ –±—ã –≤—ã –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∏ —Ä–µ—à–µ–Ω–∏–µ, 
              –µ—Å–ª–∏ –±—ã —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å —Ç–∞–∫–∂–µ —É—á–∏—Ç—ã–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä –±—É–∫–≤?" –∏–ª–∏ "–ö–∞–∫ –±—ã –≤—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª–∏ —Ä–µ—à–µ–Ω–∏–µ 
              –¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö?"
            </p>
          </div>
        </div>
      </section>
    </div>
  </template>
  
  <script setup>
  import { ref,  onUnmounted } from 'vue';
  
  // –ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
  const initialArray = ["eat", "tea", "tan", "ate", "nat", "bat"];
  
  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —à–∞–≥–æ–≤ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
  const generateSteps = () => {
    const stepsArr = [];
    const anagramGroupsProgress = {};
    
    // –ù–∞—á–∞–ª—å–Ω—ã–π —à–∞–≥
    stepsArr.push({
      description: "–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –£ –Ω–∞—Å –µ—Å—Ç—å –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫, –∏ –º—ã —Ö–æ—Ç–∏–º —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∞–≥—Ä–∞–º–º—ã.",
      currentWordIndex: -1,
      currentWord: null,
      sortingSteps: [],
      sortedWord: null,
      anagramGroups: {}
    });
    
    // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –≤ –º–∞—Å—Å–∏–≤–µ
    initialArray.forEach((word, idx) => {
      // –®–∞–≥ 1: –í—ã–±–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–æ–≤–∞
      stepsArr.push({
        description: `–ë–µ—Ä–µ–º —Å–ª–æ–≤–æ "${word}" –∏–∑ –º–∞—Å—Å–∏–≤–∞.`,
        currentWordIndex: idx,
        currentWord: word,
        sortingSteps: [],
        sortedWord: null,
        anagramGroups: { ...anagramGroupsProgress }
      });
      
      // –®–∞–≥ 2: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–æ–≤–∞
      const charsArray = word.split('');
      const sortingSteps = [charsArray.join('')]; // –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      
      // –ü—Ä–æ—Å—Ç–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
      const sortedChars = charsArray.sort();
      const sortedWord = sortedChars.join('');
      
      stepsArr.push({
        description: `–°–æ—Ä—Ç–∏—Ä—É–µ–º –±—É–∫–≤—ã –≤ —Å–ª–æ–≤–µ "${word}" –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ –∞–Ω–∞–≥—Ä–∞–º–º—ã.`,
        currentWordIndex: idx,
        currentWord: word,
        sortingSteps: sortingSteps,
        sortedWord: sortedWord,
        anagramGroups: { ...anagramGroupsProgress }
      });
      
      // –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –≥—Ä—É–ø–ø—É
      const anagramGroupsCopy = { ...anagramGroupsProgress };
      
      if (sortedWord in anagramGroupsCopy) {
        anagramGroupsCopy[sortedWord].push(word);
      } else {
        anagramGroupsCopy[sortedWord] = [word];
      }
      
      stepsArr.push({
        description: `–î–æ–±–∞–≤–ª—è–µ–º —Å–ª–æ–≤–æ "${word}" –≤ –≥—Ä—É–ø–ø—É —Å –∫–ª—é—á–æ–º "${sortedWord}".`,
        currentWordIndex: idx,
        currentWord: word,
        sortingSteps: sortingSteps,
        sortedWord: sortedWord,
        anagramGroups: anagramGroupsCopy
      });
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ª–æ–≤–∞
      anagramGroupsProgress[sortedWord] = [...anagramGroupsCopy[sortedWord]];
    });
    
    // –§–∏–Ω–∞–ª—å–Ω—ã–π —à–∞–≥: —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    stepsArr.push({
      description: "–í—Å–µ —Å–ª–æ–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã. –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≥—Ä—É–ø–ø—ã –∞–Ω–∞–≥—Ä–∞–º–º.",
      currentWordIndex: initialArray.length,
      currentWord: null,
      sortingSteps: [],
      sortedWord: null,
      anagramGroups: { ...anagramGroupsProgress }
    });
    
    return stepsArr;
  };
  
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
  const steps = generateSteps();
  const currentStep = ref(0);
  const isPlaying = ref(false);
  let animationInterval = null;
  
  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
  const resetVisualization = () => {
    currentStep.value = 0;
    isPlaying.value = false;
    clearInterval(animationInterval);
  };
  
  const startVisualization = () => {
    if (currentStep.value === steps.length - 1) {
      resetVisualization();
    }
    
    isPlaying.value = true;
    animationInterval = setInterval(() => {
      if (currentStep.value < steps.length - 1) {
        currentStep.value++;
      } else {
        pauseVisualization();
      }
    }, 2000); // –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —à–∞–≥–∞–º–∏ (2 —Å–µ–∫—É–Ω–¥—ã)
  };
  
  const pauseVisualization = () => {
    isPlaying.value = false;
    clearInterval(animationInterval);
  };
  
  const nextStep = () => {
    if (currentStep.value < steps.length - 1) {
      currentStep.value++;
    }
  };
  
  // –û—á–∏—Å—Ç–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  onUnmounted(() => {
    clearInterval(animationInterval);
  });
  </script>
  
  <style scoped>
  .anagram-visualizer {
    font-family: 'Roboto', 'Segoe UI', Arial, sans-serif;
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
    color: #333;
    line-height: 1.6;
  }
  
  h1 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 20px;
  }
  
  h2 {
    color: #3498db;
    border-bottom: 2px solid #3498db;
    padding-bottom: 5px;
    margin-top: 30px;
  }
  
  h3 {
    color: #2c3e50;
    margin-top: 20px;
    font-size: 1.2rem;
  }
  
  section {
    margin-bottom: 40px;
  }
  
  .description-card, .algorithm-card, .code-card, .visualization-card, 
  .optimizations-card, .applications-card, .tips-card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-top: 15px;
  }
  
  /* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ –∑–∞–¥–∞—á–∏ */
  .task-description {
    font-size: 1.1rem;
    font-weight: 500;
    margin-bottom: 15px;
  }
  
  .example {
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    border-left: 4px solid #3498db;
    margin-top: 15px;
  }
  
  .example pre {
    margin: 10px 0 0;
    white-space: pre-wrap;
    font-family: 'Consolas', 'Monaco', monospace;
  }
  
  /* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ –ø–æ–¥—Ö–æ–¥–∞ */
  .insight-box {
    display: flex;
    align-items: flex-start;
    background-color: #e3f2fd;
    padding: 15px;
    border-radius: 6px;
    margin: 15px 0;
  }
  
  .insight-icon {
    font-size: 1.5rem;
    margin-right: 10px;
  }
  
  .complexity {
    background-color: #f8f9fa;
    padding: 10px 15px;
    border-radius: 6px;
    margin-top: 20px;
  }
  
  /* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ –∫–æ–¥–∞ */
  pre.code {
    background-color: #2d2d2d;
    color: #f8f8f2;
    padding: 15px;
    border-radius: 6px;
    overflow-x: auto;
    font-family: 'Consolas', 'Monaco', monospace;
    line-height: 1.4;
  }
  
  .code-explanation {
    margin-top: 20px;
  }
  
  /* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ */
  .controls {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
  }
  
  .controls button {
    padding: 8px 16px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  
  .controls button:hover:not(:disabled) {
    background-color: #2980b9;
  }
  
  .controls button:disabled {
    background-color: #bdc3c7;
    cursor: not-allowed;
  }
  
  .visualization-container {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 6px;
  }
  
  .step-info {
    margin-bottom: 20px;
    padding: 10px 15px;
    background-color: #e3f2fd;
    border-radius: 6px;
    border-left: 4px solid #3498db;
  }
  
  .step-number {
    font-weight: bold;
    margin-bottom: 5px;
  }
  
  .input-array, .current-process, .hash-map, .result {
    margin-bottom: 25px;
  }
  
  .array-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
  }
  
  .array-item {
    padding: 8px 12px;
    background-color: #ecf0f1;
    border-radius: 4px;
    border: 1px solid #bdc3c7;
    transition: all 0.3s;
  }
  
  .array-item.current {
    background-color: #f39c12;
    color: white;
    transform: scale(1.05);
    border-color: #f39c12;
  }
  
  .array-item.processed {
    background-color: #2ecc71;
    color: white;
    border-color: #2ecc71;
  }
  
  .process-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    background-color: white;
    padding: 15px;
    border-radius: 6px;
    border: 1px solid #ddd;
  }
  
  .current-word, .sorting-process {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  
  .word-box {
    padding: 8px 12px;
    background-color: #f39c12;
    color: white;
    border-radius: 4px;
    font-weight: bold;
  }
  
  .sorting-box {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
  }
  
  .sorting-step {
    padding: 8px 12px;
    background-color: #ecf0f1;
    border-radius: 4px;
    border: 1px solid #bdc3c7;
  }
  
  .arrow {
    font-size: 1.2rem;
    font-weight: bold;
    color: #7f8c8d;
  }
  
  .sorted-result {
    padding: 8px 12px;
    background-color: #3498db;
    color: white;
    border-radius: 4px;
    font-weight: bold;
  }
  
  .map-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 10px;
  }
  
  .map-entry {
    display: flex;
    background-color: white;
    border: 1px solid #ddd;
    border-radius: 6px;
    overflow: hidden;
    transition: all 0.3s;
  }
  
  .map-entry.highlight {
    box-shadow: 0 0 8px rgba(243, 156, 18, 0.6);
    border-color: #f39c12;
  }
  
  .map-key {
    padding: 10px 15px;
    background-color: #34495e;
    color: white;
    font-weight: bold;
    min-width: 100px;
  }
  
  .map-value {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding: 10px;
    flex: 1;
  }
  
  .group-word {
    padding: 5px 10px;
    background-color: #ecf0f1;
    border-radius: 4px;
    transition: all 0.3s;
  }
  
  .group-word.last-added {
    background-color: #f39c12;
    color: white;
    animation: pulse 1s infinite;
  }
  
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }
  
  .result-container {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-top: 10px;
  }
  
  .result-group {
    padding: 10px 15px;
    background-color: #2ecc71;
    color: white;
    border-radius: 6px;
    animation: fadeIn 1s;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  /* –°—Ç–∏–ª–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π */
  .optimization-item {
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 1px solid #eee;
  }
  
  .optimization-item:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }
  
  /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π */
  .application-item {
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
  }
  
  .application-item:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }
  
  /* –°–æ–≤–µ—Ç—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é */
  .tip-item {
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
  }
  
  .tip-item:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }
  
  /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
  @media (max-width: 768px) {
    .anagram-visualizer {
      padding: 10px;
    }
    
    .controls {
      flex-wrap: wrap;
    }
    
    .array-container, .map-container, .result-container {
      flex-direction: column;
    }
    
    .process-container {
      padding: 10px;
    }
    
    .map-entry {
      flex-direction: column;
    }
    
    .map-key {
      min-width: auto;
    }
  }
  </style>