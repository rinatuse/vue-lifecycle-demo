<template>
    <div class="atm-demo">
      <h1>–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–¥–∞—á–∏ –¥–µ–Ω–µ–≥ –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ</h1>
      <p class="intro">–†–∞–∑–±–æ—Ä –∑–∞–¥–∞—á–∏ –æ –≤—ã–¥–∞—á–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∫—É–ø—é—Ä —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ –ø–æ—à–∞–≥–æ–≤—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º</p>
      
      <div class="sections-nav">
        <button 
          v-for="(section, index) in sections" 
          :key="section.id"
          :class="{ active: currentSection === index }"
          @click="setCurrentSection(index)"
        >
          {{ section.title }}
        </button>
      </div>
      
      <!-- –°–µ–∫—Ü–∏—è —Å –∑–∞–¥–∞—á–µ–π -->
      <section v-show="currentSection === 0" class="problem-section">
        <h2>üìã –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏</h2>
        <div class="task-description">
          <p>–í –±–∞–Ω–∫–æ–º–∞—Ç–µ –∏–º–µ—é—Ç—Å—è –∫—É–ø—é—Ä—ã –Ω–æ–º–∏–Ω–∞–ª–æ–º <code>50</code>, <code>100</code>, <code>500</code>, <code>1000</code>, <code>5000</code> —Ä—É–±–ª–µ–π.</p>
          <p>–ï—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–∂–¥–æ–π –∏–∑ –∫—É–ø—é—Ä (–∞—Ä–≥—É–º–µ–Ω—Ç <code>limits</code>), –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –≤—ã–¥–∞—á–µ.</p>
          <p>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–µ—Ä–Ω—É—Ç—å –æ–±—ä–µ–∫—Ç —Å –Ω–æ–º–∏–Ω–∞–ª–∞–º–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫—É–ø—é—Ä, –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∂–Ω–æ –≤—ã–¥–∞—Ç—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—É—é —Å—É–º–º—É.</p>
          <p>–ü—Ä–∏ —Ä–∞–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –≤—ã–¥–∞—á–∏ —Å—É–º–º—ã, <strong>–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–¥–∞—ë—Ç—Å—è –∫—Ä—É–ø–Ω—ã–º –∫—É–ø—é—Ä–∞–º</strong>.</p>
          <p>–ù—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –æ—à–∏–±–∫–∏:</p>
          <ul>
            <li>–ï—Å–ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è —Å—É–º–º–∞ –Ω–µ –∫—Ä–∞—Ç–Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–æ–º–∏–Ω–∞–ª—É (50) - –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É <code>'Incorrect value'</code>.</li>
            <li>–ï—Å–ª–∏ –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω—É–∂–Ω—ã—Ö –∫—É–ø—é—Ä - –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É <code>'Not enough money'</code>.</li>
          </ul>
        </div>
        
        <div class="code-example">
          <h3>–°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏:</h3>
          <pre><code>const nominals = [5000, 1000, 500, 100, 50];
  const limits = { 50: 10, 100: 10, 500: 10, 1000: 10, 5000: 10 };
  
  function atm(amount, limits, nominals = nominals) {
    // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
  }
  
  console.log(atm(2350, limits)); // {50: 1, 100: 3, 1000: 2}
  console.log(atm(11350, limits)); // {50: 1, 100: 3, 1000: 1, 5000: 2}
  console.log(atm(777, limits)); // –û—à–∏–±–∫–∞ "Incorrect value"</code></pre>
        </div>
      </section>
      
      <!-- –°–µ–∫—Ü–∏—è —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º -->
      <section v-show="currentSection === 1" class="algorithm-section">
        <h2>‚öôÔ∏è –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–µ—à–µ–Ω–∏—è</h2>
        
        <div class="algorithm-description">
          <h3>–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <strong>–ñ–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º</strong> (Greedy Algorithm)</h3>
          
          <div class="algorithm-steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å—É–º–º—ã</h4>
                <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫—Ä–∞—Ç–Ω–∞ –ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è —Å—É–º–º–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–æ–º–∏–Ω–∞–ª—É (50). –ï—Å–ª–∏ –Ω–µ—Ç - –≤—ã–±—Ä–æ—Å–∏—Ç–µ –æ—à–∏–±–∫—É <code>'Incorrect value'</code>.</p>
              </div>
            </div>
            
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–∏–Ω–∞–ª–æ–≤</h4>
                <p>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–æ–º–∏–Ω–∞–ª—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —É–±—ã–≤–∞–Ω–∏—é (–æ—Ç —Å–∞–º–æ–≥–æ –∫—Ä—É–ø–Ω–æ–≥–æ –∫ —Å–∞–º–æ–º—É –º–µ–ª–∫–æ–º—É).</p>
              </div>
            </div>
            
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>–ñ–∞–¥–Ω—ã–π –≤—ã–±–æ—Ä –∫—É–ø—é—Ä</h4>
                <p>–î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞, –Ω–∞—á–∏–Ω–∞—è —Å —Å–∞–º–æ–≥–æ –∫—Ä—É–ø–Ω–æ–≥–æ:</p>
                <ol>
                  <li>–ü–æ—Å—á–∏—Ç–∞–π—Ç–µ, —Å–∫–æ–ª—å–∫–æ –∫—É–ø—é—Ä –¥–∞–Ω–Ω–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è (—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ —Å—É–º–º—ã –Ω–∞ –Ω–æ–º–∏–Ω–∞–ª).</li>
                  <li>–°—Ä–∞–≤–Ω–∏—Ç–µ —ç—Ç–æ —á–∏—Å–ª–æ —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫—É–ø—é—Ä –¥–∞–Ω–Ω–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞.</li>
                  <li>–í—ã–±–µ—Ä–∏—Ç–µ –º–∏–Ω–∏–º—É–º –∏–∑ —ç—Ç–∏—Ö –¥–≤—É—Ö —á–∏—Å–µ–ª - —ç—Ç–æ –±—É–¥–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø—é—Ä –¥–∞–Ω–Ω–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –≤–æ–∑—å–º–µ–º.</li>
                  <li>–£–º–µ–Ω—å—à–∏—Ç–µ –æ—Å—Ç–∞—Ç–æ–∫ —Å—É–º–º—ã –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫—É–ø—é—Ä.</li>
                  <li>–î–æ–±–∞–≤—å—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫—É–ø—é—Ä—ã –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –µ—Å–ª–∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ–ª—å—à–µ 0.</li>
                </ol>
              </div>
            </div>
            
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–¥–∞—á–∏</h4>
                <p>–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –Ω–æ–º–∏–Ω–∞–ª–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–≤–µ–Ω –ª–∏ –æ—Å—Ç–∞—Ç–æ–∫ —Å—É–º–º—ã –Ω—É–ª—é. –ï—Å–ª–∏ –Ω–µ—Ç - –≤—ã–±—Ä–æ—Å–∏—Ç–µ –æ—à–∏–±–∫—É <code>'Not enough money'</code>.</p>
              </div>
            </div>
          </div>
          
          <div class="why-greedy">
            <h3>–ü–æ—á–µ–º—É –∂–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–µ?</h3>
            <p>–ñ–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ:</p>
            <ul>
              <li>–ù–æ–º–∏–Ω–∞–ª—ã –∫—É–ø—é—Ä –≤—ã–±—Ä–∞–Ω—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ –∫–∞–∂–¥—ã–π –±–æ–ª—å—à–∏–π –Ω–æ–º–∏–Ω–∞–ª –∫—Ä–∞—Ç–µ–Ω –∏–ª–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–µ –º–µ–Ω—å—à–∏—Ö –Ω–æ–º–∏–Ω–∞–ª–æ–≤.</li>
              <li>–ú—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ–º —Ä–∞–∑–º–µ–Ω—è—Ç—å –∫—Ä—É–ø–Ω—É—é –∫—É–ø—é—Ä—É –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–ª–∫–∏—Ö.</li>
              <li>–ü–æ —É—Å–ª–æ–≤–∏—é, –ø—Ä–∏ —Ä–∞–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –æ—Ç–¥–∞–µ—Ç—Å—è –∫—Ä—É–ø–Ω—ã–º –∫—É–ø—é—Ä–∞–º.</li>
            </ul>
          </div>
        </div>
      </section>
      
      <!-- –°–µ–∫—Ü–∏—è —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π -->
      <section v-show="currentSection === 2" class="visualization-section">
        <h2>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞</h2>
        
        <div class="visualization-controls">
          <div class="input-group">
            <label for="amount-input">–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –≤—ã–¥–∞—á–∏:</label>
            <input 
              id="amount-input" 
              v-model.number="inputAmount" 
              type="number" 
              min="50" 
              step="50"
              placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 2350"
            />
          </div>
          <button @click="runVisualization" :disabled="isVisualizing" class="run-btn">
            {{ isVisualizing ? '–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...' : '–ó–∞–ø—É—Å—Ç–∏—Ç—å' }}
          </button>
          <button @click="resetVisualization" :disabled="isVisualizing" class="reset-btn">
            –°–±—Ä–æ—Å–∏—Ç—å
          </button>
        </div>
        
        <div class="atm-state">
          <div class="amount-display">
            <div class="display-label">–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è —Å—É–º–º–∞:</div>
            <div class="amount-value">{{ formattedAmount }}</div>
            <div v-if="remainingAmount < inputAmount && remainingAmount > 0" class="remaining-label">
              –û—Å—Ç–∞—Ç–æ–∫: <span>{{ remainingAmount }} ‚ÇΩ</span>
            </div>
          </div>
          
          <div class="banknotes-container">
            <div 
              v-for="nominal in nominals" 
              :key="nominal"
              class="banknote-row"
              :class="{ active: currentNominal === nominal }"
            >
              <div class="nominal-label">{{ nominal }} ‚ÇΩ</div>
              <div class="banknote-limits">
                <div class="available">–î–æ—Å—Ç—É–ø–Ω–æ: {{ atmLimits[nominal] }}</div>
                <div v-if="visualSteps[nominal]" class="taken">
                  –í–∑—è—Ç–æ: {{ visualSteps[nominal] }}
                </div>
              </div>
              <div class="banknotes-visual">
                <div 
                  v-for="i in atmLimits[nominal]" 
                  :key="`${nominal}-${i}`"
                  class="banknote"
                  :class="{ 
                    selected: visualSteps[nominal] && i <= visualSteps[nominal],
                    available: !visualSteps[nominal] || i > visualSteps[nominal]
                  }"
                  :style="{ backgroundImage: `url(https://via.placeholder.com/80x40/92C7CF/FFFFFF?text=${nominal})` }"
                ></div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="visualization-result" v-if="visualizationDone">
          <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h3>
          <div class="result-container">
            <div v-if="visualizationSuccess" class="success-result">
              <p>–°—É–º–º–∞ {{ formattedAmount }} —É—Å–ø–µ—à–Ω–æ –≤—ã–¥–∞–Ω–∞ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫—É–ø—é—Ä–∞–º–∏:</p>
              <div class="result-banknotes">
                <div v-for="(count, nominal) in result" :key="`result-${nominal}`" class="result-banknote">
                  <div class="banknote-visual" :style="{ backgroundImage: `url(https://via.placeholder.com/80x40/92C7CF/FFFFFF?text=${nominal})` }"></div>
                  <div class="banknote-count">√ó {{ count }}</div>
                </div>
              </div>
              <pre><code>{{ JSON.stringify(result, null, 2) }}</code></pre>
            </div>
            <div v-else class="error-result">
              <p>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:</p>
              <div class="error-message">{{ errorMessage }}</div>
            </div>
          </div>
        </div>
        
        <div class="explanation-log">
          <h3>–ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:</h3>
          <div class="log-container" ref="logContainer">
            <div v-for="(log, index) in visualizationLog" :key="index" class="log-item">
              <div class="log-icon" :class="log.type"></div>
              <div class="log-text" v-html="log.text"></div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- –°–µ–∫—Ü–∏—è —Å –∫–æ–¥–æ–º -->
      <section v-show="currentSection === 3" class="code-section">
        <h2>üìù –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</h2>
        
        <div class="implementation">
          <pre><code>/**
   * –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–¥–∞—á–∏ –¥–µ–Ω–µ–≥ –∏–∑ –±–∞–Ω–∫–æ–º–∞—Ç–∞.
   * @param {number} amount - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è —Å—É–º–º–∞
   * @param {Object} limits - –û–±—ä–µ–∫—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø—é—Ä
   * @param {Array} nominals - –ú–∞—Å—Å–∏–≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –Ω–æ–º–∏–Ω–∞–ª–æ–≤ (–ø–æ —É–±—ã–≤–∞–Ω–∏—é)
   * @returns {Object} - –û–±—ä–µ–∫—Ç —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫—É–ø—é—Ä –∫–∞–∂–¥–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞ –¥–ª—è –≤—ã–¥–∞—á–∏
   */
  function atm(amount, limits, nominals = [5000, 1000, 500, 100, 50]) {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞, –∫—Ä–∞—Ç–Ω–∞ –ª–∏ —Å—É–º–º–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–æ–º–∏–Ω–∞–ª—É
    if (amount % Math.min(...nominals) !== 0) {
      throw new Error('Incorrect value');
    }
    
    // –°–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é –ª–∏–º–∏—Ç–æ–≤, —á—Ç–æ–±—ã –Ω–µ –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É
    const availableLimits = { ...limits };
    
    // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    const result = {};
    let remainingAmount = amount;
    
    // –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –Ω–æ–º–∏–Ω–∞–ª—ã –æ—Ç –∫—Ä—É–ø–Ω—ã—Ö –∫ –º–µ–ª–∫–∏–º
    for (const nominal of nominals) {
      // –°–∫–æ–ª—å–∫–æ –∫—É–ø—é—Ä –¥–∞–Ω–Ω–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è
      const neededBanknotes = Math.floor(remainingAmount / nominal);
      
      // –°–∫–æ–ª—å–∫–æ –∫—É–ø—é—Ä –¥–∞–Ω–Ω–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–æ
      const availableBanknotes = availableLimits[nominal] || 0;
      
      // –ë–µ—Ä–µ–º –º–∏–Ω–∏–º—É–º –∏–∑ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
      const takenBanknotes = Math.min(neededBanknotes, availableBanknotes);
      
      // –ï—Å–ª–∏ –≤–∑—è–ª–∏ –∫—É–ø—é—Ä—ã, –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
      if (takenBanknotes > 0) {
        result[nominal] = takenBanknotes;
        
        // –£–º–µ–Ω—å—à–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø—é—Ä
        availableLimits[nominal] -= takenBanknotes;
        
        // –£–º–µ–Ω—å—à–∞–µ–º –æ—Å—Ç–∞–≤—à—É—é—Å—è —Å—É–º–º—É
        remainingAmount -= takenBanknotes * nominal;
      }
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–¥–∞–ª–∏ –ª–∏ –≤—Å—é —Å—É–º–º—É
    if (remainingAmount > 0) {
      throw new Error('Not enough money');
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Å—Ö–æ–¥–Ω—ã–µ –ª–∏–º–∏—Ç—ã (–º—É—Ç–∞—Ü–∏—è –≤—Ö–æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞)
    Object.keys(availableLimits).forEach(nominal => {
      limits[nominal] = availableLimits[nominal];
    });
    
    return result;
  }</code></pre>
        </div>
        
        <div class="edge-cases">
          <h3>–ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –∏ –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã</h3>
          <ul>
            <li>
              <strong>–ú—É—Ç–∞—Ü–∏—è –ª–∏–º–∏—Ç–æ–≤:</strong> –ü–æ —É—Å–ª–æ–≤–∏—é –∑–∞–¥–∞—á–∏, –º—ã –¥–æ–ª–∂–Ω—ã –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç <code>limits</code>. –û–¥–Ω–∞–∫–æ –≤ —Ä–µ—à–µ–Ω–∏–∏ —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ–ø–∏—è, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≤—ã–¥–∞—á–∏.
            </li>
            <li>
              <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∞—Ç–Ω–æ—Å—Ç–∏:</strong> –í–∞–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å —Å—É–º–º—ã –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–æ–º–∏–Ω–∞–ª—É –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ.
            </li>
            <li>
              <strong>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–∏–Ω–∞–ª–æ–≤:</strong> –ù–æ–º–∏–Ω–∞–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —É–±—ã–≤–∞–Ω–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã –∂–∞–¥–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.
            </li>
            <li>
              <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–¥–∞—á–∏:</strong> –î–∞–∂–µ –µ—Å–ª–∏ —Å—É–º–º–∞ –∫—Ä–∞—Ç–Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–æ–º–∏–Ω–∞–ª—É, –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—É–ø—é—Ä –¥–ª—è –µ—ë –≤—ã–¥–∞—á–∏.
            </li>
            <li>
              <strong>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–æ–º–∏–Ω–∞–ª–∞ –≤ –ª–∏–º–∏—Ç–∞—Ö:</strong> –ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –Ω–æ–º–∏–Ω–∞–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ª–∏–º–∏—Ç–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ 0.
            </li>
          </ul>
        </div>
      </section>
      
      <!-- –°–µ–∫—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ -->
      <section v-show="currentSection === 4" class="real-examples-section">
        <h2>üåê –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏</h2>
        
        <div class="real-examples">
          <div class="example-card">
            <div class="example-title">–ë–∞–Ω–∫–æ–º–∞—Ç—ã –∏ –∫–∞—Å—Å–æ–≤—ã–µ –∞–ø–ø–∞—Ä–∞—Ç—ã</div>
            <div class="example-content">
              <p>–û—á–µ–≤–∏–¥–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ - —ç—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–µ –±–∞–Ω–∫–æ–º–∞—Ç—ã –∏ –∫–∞—Å—Å–æ–≤—ã–µ –∞–ø–ø–∞—Ä–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –≤—ã–¥–∞–≤–∞—Ç—å –¥–µ–Ω—å–≥–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –∫—É–ø—é—Ä.</p>
              <p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±–∞–Ω–∫–æ–º–∞—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Ö–æ–∂–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, —É—á–∏—Ç—ã–≤–∞—è –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–æ–º–∏–Ω–∞–ª—ã –∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –∫–∞—Å—Å–µ—Ç–∞—Ö.</p>
            </div>
          </div>
          
          <div class="example-card">
            <div class="example-title">–ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã</div>
            <div class="example-content">
              <p>–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å—á–µ—Ç–∞–º–∏ –∏–ª–∏ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–ª–∞—Ç.</p>
            </div>
          </div>
          
          <div class="example-card">
            <div class="example-title">–û–±–º–µ–Ω –≤–∞–ª—é—Ç</div>
            <div class="example-content">
              <p>–û–±–º–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –∏ –±–∞–Ω–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Ö–æ–∂–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –≤—ã–¥–∞—á–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∫—É–ø—é—Ä –ø—Ä–∏ –æ–±–º–µ–Ω–µ –≤–∞–ª—é—Ç.</p>
            </div>
          </div>
          
          <div class="example-card">
            <div class="example-title">–õ–æ–≥–∏—Å—Ç–∏–∫–∞ –∏ —É–ø–∞–∫–æ–≤–∫–∞</div>
            <div class="example-content">
              <p>–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ª–æ–≥–∏—Å—Ç–∏–∫–µ –ø—Ä–∏ —É–ø–∞–∫–æ–≤–∫–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–∑–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –≥–¥–µ –Ω—É–∂–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.</p>
            </div>
          </div>
          
          <div class="example-card">
            <div class="example-title">–§–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
            <div class="example-content">
              <p>–ü—Ä–∏ –±—é–¥–∂–µ—Ç–Ω–æ–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã —Ä–∞–∑–Ω—ã–º–∏ "–ø–æ—Ä—Ü–∏—è–º–∏", –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.</p>
            </div>
          </div>
        </div>
        
        <div class="similar-algorithms">
          <h3>–ü–æ—Ö–æ–∂–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏</h3>
          <ul>
            <li>
              <strong>–ó–∞–¥–∞—á–∞ –æ —Ä–∞–∑–º–µ–Ω–µ –º–æ–Ω–µ—Ç (Coin Change Problem)</strong> - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –≥–¥–µ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –¥–ª—è —Ä–∞–∑–º–µ–Ω–∞ —Å—É–º–º—ã.
            </li>
            <li>
              <strong>–ó–∞–¥–∞—á–∞ –æ —Ä—é–∫–∑–∞–∫–µ (Knapsack Problem)</strong> - –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç—å—é, –Ω–µ –ø—Ä–µ–≤—ã—à–∞—è –∑–∞–¥–∞–Ω–Ω—ã–π –≤–µ—Å.
            </li>
            <li>
              <strong>–ó–∞–¥–∞—á–∞ –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ (Set Cover Problem)</strong> - –Ω–∞–π—Ç–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã.
            </li>
          </ul>
        </div>
      </section>
      
      <!-- –°–µ–∫—Ü–∏—è —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º -->
      <section v-show="currentSection === 5" class="testing-section">
        <h2>üß™ –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è</h2>
        
        <div class="test-your-solution">
          <h3>–ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —ç—Ç–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö:</h3>
          
          <div class="test-cases">
            <div v-for="(test, index) in testCases" :key="index" class="test-case">
              <div class="test-input">
                <strong>–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</strong>
                <pre><code>amount: {{ test.amount }}
  limits: {{ JSON.stringify(test.limits, null, 2) }}</code></pre>
              </div>
              
              <div class="test-output">
                <strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong>
                <pre v-if="!test.isError"><code>{{ JSON.stringify(test.expected, null, 2) }}</code></pre>
                <div v-else class="expected-error">{{ test.expected }}</div>
              </div>
              
              <button @click="runTest(index)" class="test-button">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
              
              <div v-if="test.result !== undefined" class="test-result" :class="{ success: test.passed, error: !test.passed }">
                <div v-if="test.passed" class="success-message">‚úì –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω!</div>
                <div v-else class="error-message">
                  ‚úó –¢–µ—Å—Ç –Ω–µ –ø—Ä–æ–π–¥–µ–Ω!
                  <div class="actual-result">
                    <strong>–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong>
                    <pre v-if="typeof test.result === 'object'"><code>{{ JSON.stringify(test.result, null, 2) }}</code></pre>
                    <div v-else class="actual-error">{{ test.result }}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </template>
  
  <script setup>
  import { ref, computed, watch, nextTick } from 'vue';
  
  // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –∑–∞–¥–∞—á–∏
  const nominals = [5000, 1000, 500, 100, 50];
  const initialLimits = { 50: 10, 100: 10, 500: 10, 1000: 10, 5000: 10 };
  
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  const sections = [
    { id: 'problem', title: '–ó–∞–¥–∞—á–∞' },
    { id: 'algorithm', title: '–ê–ª–≥–æ—Ä–∏—Ç–º' },
    { id: 'visualization', title: '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è' },
    { id: 'code', title: '–ö–æ–¥' },
    { id: 'real-examples', title: '–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ' },
    { id: 'testing', title: '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ' }
  ];
  const currentSection = ref(0);
  
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
  const inputAmount = ref(2350);
  const formattedAmount = computed(() => {
    return new Intl.NumberFormat('ru-RU').format(inputAmount.value) + ' ‚ÇΩ';
  });
  const atmLimits = ref({ ...initialLimits });
  const remainingAmount = ref(0);
  const currentNominal = ref(null);
  const visualSteps = ref({});
  const visualizationLog = ref([]);
  const isVisualizing = ref(false);
  const visualizationDone = ref(false);
  const visualizationSuccess = ref(false);
  const result = ref({});
  const errorMessage = ref('');
  const logContainer = ref(null);
  
  // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
  const testCases = ref([
    {
      amount: 2350,
      limits: { 50: 10, 100: 10, 500: 10, 1000: 10, 5000: 10 },
      expected: { 50: 1, 100: 3, 1000: 2 },
      isError: false
    },
    {
      amount: 11350,
      limits: { 50: 10, 100: 10, 500: 10, 1000: 10, 5000: 10 },
      expected: { 50: 1, 100: 3, 1000: 1, 5000: 2 },
      isError: false
    },
    {
      amount: 777,
      limits: { 50: 10, 100: 10, 500: 10, 1000: 10, 5000: 10 },
      expected: 'Incorrect value',
      isError: true
    },
    {
      amount: 50000,
      limits: { 50: 10, 100: 10, 500: 10, 1000: 10, 5000: 1 },
      expected: 'Not enough money',
      isError: true
    },
    {
      amount: 600,
      limits: { 50: 2, 100: 5, 500: 0, 1000: 0, 5000: 0 },
      expected: { 50: 2, 100: 5 },
      isError: false
    }
  ]);
  
  // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  function setCurrentSection(index) {
    currentSection.value = index;
  }
  
  // –§—É–Ω–∫—Ü–∏—è ATM –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  /**
   * –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–¥–∞—á–∏ –¥–µ–Ω–µ–≥ –∏–∑ –±–∞–Ω–∫–æ–º–∞—Ç–∞.
   * @param {number} amount - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è —Å—É–º–º–∞
   * @param {Object} limits - –û–±—ä–µ–∫—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø—é—Ä
   * @param {Array} nominals - –ú–∞—Å—Å–∏–≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –Ω–æ–º–∏–Ω–∞–ª–æ–≤ (–ø–æ —É–±—ã–≤–∞–Ω–∏—é)
   * @returns {Object} - –û–±—ä–µ–∫—Ç —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫—É–ø—é—Ä –∫–∞–∂–¥–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞ –¥–ª—è –≤—ã–¥–∞—á–∏
   */
  function atmImplementation(amount, limits, nominals = [5000, 1000, 500, 100, 50]) {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞, –∫—Ä–∞—Ç–Ω–∞ –ª–∏ —Å—É–º–º–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–æ–º–∏–Ω–∞–ª—É
    if (amount % Math.min(...nominals) !== 0) {
      throw new Error('Incorrect value');
    }
    
    // –°–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é –ª–∏–º–∏—Ç–æ–≤, —á—Ç–æ–±—ã –Ω–µ –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É
    const availableLimits = { ...limits };
    
    // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    const result = {};
    let remainingAmount = amount;
    
    // –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –Ω–æ–º–∏–Ω–∞–ª—ã –æ—Ç –∫—Ä—É–ø–Ω—ã—Ö –∫ –º–µ–ª–∫–∏–º
    for (const nominal of nominals) {
      // –°–∫–æ–ª—å–∫–æ –∫—É–ø—é—Ä –¥–∞–Ω–Ω–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è
      const neededBanknotes = Math.floor(remainingAmount / nominal);
      
      // –°–∫–æ–ª—å–∫–æ –∫—É–ø—é—Ä –¥–∞–Ω–Ω–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–æ
      const availableBanknotes = availableLimits[nominal] || 0;
      
      // –ë–µ—Ä–µ–º –º–∏–Ω–∏–º—É–º –∏–∑ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
      const takenBanknotes = Math.min(neededBanknotes, availableBanknotes);
      
      // –ï—Å–ª–∏ –≤–∑—è–ª–∏ –∫—É–ø—é—Ä—ã, –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
      if (takenBanknotes > 0) {
        result[nominal] = takenBanknotes;
        
        // –£–º–µ–Ω—å—à–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø—é—Ä
        availableLimits[nominal] -= takenBanknotes;
        
        // –£–º–µ–Ω—å—à–∞–µ–º –æ—Å—Ç–∞–≤—à—É—é—Å—è —Å—É–º–º—É
        remainingAmount -= takenBanknotes * nominal;
      }
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–¥–∞–ª–∏ –ª–∏ –≤—Å—é —Å—É–º–º—É
    if (remainingAmount > 0) {
      throw new Error('Not enough money');
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Å—Ö–æ–¥–Ω—ã–µ –ª–∏–º–∏—Ç—ã (–º—É—Ç–∞—Ü–∏—è –≤—Ö–æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞)
    Object.keys(availableLimits).forEach(nominal => {
      limits[nominal] = availableLimits[nominal];
    });
    
    return result;
  }
  
  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
  async function runVisualization() {
    try {
      // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      resetVisualization();
      
      // –ó–∞–ø—É—Å–∫–∞–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
      isVisualizing.value = true;
      visualizationLog.value.push({
        type: 'info',
        text: `–ù–∞—á–∏–Ω–∞–µ–º –≤—ã–¥–∞—á—É —Å—É–º–º—ã <strong>${formattedAmount.value}</strong>`
      });
      
      // –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∞—Ç–Ω–æ—Å—Ç–∏ —Å—É–º–º—ã –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–æ–º–∏–Ω–∞–ª—É
      await delay(800);
      
      const minNominal = Math.min(...nominals);
      visualizationLog.value.push({
        type: 'check',
        text: `–ü—Ä–æ–≤–µ—Ä–∫–∞: –∫—Ä–∞—Ç–Ω–∞ –ª–∏ —Å—É–º–º–∞ ${inputAmount.value} –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–æ–º–∏–Ω–∞–ª—É ${minNominal}...`
      });
      
      await delay(800);
      
      if (inputAmount.value % minNominal !== 0) {
        visualizationLog.value.push({
          type: 'error',
          text: `–û—à–∏–±–∫–∞: —Å—É–º–º–∞ ${inputAmount.value} –Ω–µ –∫—Ä–∞—Ç–Ω–∞ ${minNominal}. –í—ã—Ö–æ–¥–∏–º —Å –æ—à–∏–±–∫–æ–π "Incorrect value".`
        });
        visualizationDone.value = true;
        visualizationSuccess.value = false;
        errorMessage.value = 'Incorrect value';
        isVisualizing.value = false;
        return;
      }
      
      visualizationLog.value.push({
        type: 'success',
        text: `–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞: —Å—É–º–º–∞ ${inputAmount.value} –∫—Ä–∞—Ç–Ω–∞ ${minNominal}.`
      });
      
      // –®–∞–≥ 2: –ù–∞—á–∏–Ω–∞–µ–º –ø–µ—Ä–µ–±–æ—Ä –Ω–æ–º–∏–Ω–∞–ª–æ–≤
      await delay(800);
      visualizationLog.value.push({
        type: 'info',
        text: '–ù–∞—á–∏–Ω–∞–µ–º –≤—ã–±–∏—Ä–∞—Ç—å –∫—É–ø—é—Ä—ã (–∂–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º)...'
      });
      
      remainingAmount.value = inputAmount.value;
      
      for (const nominal of nominals) {
        await delay(800);
        currentNominal.value = nominal;
        
        visualizationLog.value.push({
          type: 'process',
          text: `–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –Ω–æ–º–∏–Ω–∞–ª <strong>${nominal} ‚ÇΩ</strong>`
        });
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —Å–∫–æ–ª—å–∫–æ –∫—É–ø—é—Ä —ç—Ç–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞ –Ω—É–∂–Ω–æ
        const neededBanknotes = Math.floor(remainingAmount.value / nominal);
        
        await delay(600);
        visualizationLog.value.push({
          type: 'calc',
          text: `–¢—Ä–µ–±—É–µ—Ç—Å—è –∫—É–ø—é—Ä: ${remainingAmount.value} √∑ ${nominal} = ${neededBanknotes} —à—Ç.`
        });
        
        // –°–∫–æ–ª—å–∫–æ –∫—É–ø—é—Ä –¥–æ—Å—Ç—É–ø–Ω–æ
        const availableBanknotes = atmLimits.value[nominal] || 0;
        
        await delay(600);
        visualizationLog.value.push({
          type: 'check',
          text: `–î–æ—Å—Ç—É–ø–Ω–æ –∫—É–ø—é—Ä –Ω–æ–º–∏–Ω–∞–ª–æ–º ${nominal} ‚ÇΩ: ${availableBanknotes} —à—Ç.`
        });
        
        // –í—ã–±–∏—Ä–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        const takenBanknotes = Math.min(neededBanknotes, availableBanknotes);
        
        await delay(600);
        if (takenBanknotes > 0) {
          visualizationLog.value.push({
            type: 'success',
            text: `–ë–µ—Ä–µ–º ${takenBanknotes} –∫—É–ø—é—Ä –ø–æ ${nominal} ‚ÇΩ. –û–±—â–∞—è —Å—É–º–º–∞: ${takenBanknotes * nominal} ‚ÇΩ.`
          });
          
          // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ
          visualSteps.value[nominal] = takenBanknotes;
          
          // –û–±–Ω–æ–≤–ª—è–µ–º –ª–∏–º–∏—Ç—ã –∏ –æ—Å—Ç–∞—Ç–æ–∫
          await delay(500);
          atmLimits.value[nominal] -= takenBanknotes;
          remainingAmount.value -= takenBanknotes * nominal;
          
          // –î–æ–±–∞–≤–ª—è–µ–º –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
          result.value[nominal] = takenBanknotes;
          
          await delay(400);
          visualizationLog.value.push({
            type: 'info',
            text: `–û—Å—Ç–∞–ª–æ—Å—å –≤—ã–¥–∞—Ç—å: ${remainingAmount.value} ‚ÇΩ`
          });
        } else {
          visualizationLog.value.push({
            type: 'info',
            text: `–ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–æ–º–∏–Ω–∞–ª ${nominal} ‚ÇΩ, —Ç.–∫. –Ω–µ –±–µ—Ä–µ–º –∫—É–ø—é—Ä —ç—Ç–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞.`
          });
        }
      }
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–¥–∞–ª–∏ –ª–∏ –≤—Å—é —Å—É–º–º—É
      await delay(800);
      visualizationLog.value.push({
        type: 'check',
        text: `–ü—Ä–æ–≤–µ—Ä–∫–∞: –æ—Å—Ç–∞—Ç–æ–∫ —Å—É–º–º—ã —Ä–∞–≤–µ–Ω ${remainingAmount.value} ‚ÇΩ...`
      });
      
      await delay(800);
      if (remainingAmount.value > 0) {
        visualizationLog.value.push({
          type: 'error',
          text: `–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –≤—ã–¥–∞—Ç—å –≤—Å—é —Å—É–º–º—É. –û—Å—Ç–∞–ª–æ—Å—å ${remainingAmount.value} ‚ÇΩ. –í—ã—Ö–æ–¥–∏–º —Å –æ—à–∏–±–∫–æ–π "Not enough money".`
        });
        visualizationDone.value = true;
        visualizationSuccess.value = false;
        errorMessage.value = 'Not enough money';
      } else {
        visualizationLog.value.push({
          type: 'success',
          text: '–£—Å–ø–µ—Ö! –í—Å—è —Å—É–º–º–∞ —É—Å–ø–µ—à–Ω–æ –≤—ã–¥–∞–Ω–∞.'
        });
        
        await delay(500);
        visualizationLog.value.push({
          type: 'info',
          text: `–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${JSON.stringify(result.value)}`
        });
        
        visualizationDone.value = true;
        visualizationSuccess.value = true;
      }
    } catch (error) {
      visualizationLog.value.push({
        type: 'error',
        text: `–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: ${error.message}`
      });
      visualizationDone.value = true;
      visualizationSuccess.value = false;
      errorMessage.value = error.message;
    } finally {
      isVisualizing.value = false;
      currentNominal.value = null;
    }
  }
  
  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
  function resetVisualization() {
    atmLimits.value = { ...initialLimits };
    visualSteps.value = {};
    remainingAmount.value = 0;
    currentNominal.value = null;
    visualizationLog.value = [];
    visualizationDone.value = false;
    result.value = {};
    errorMessage.value = '';
  }
  
  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ –∞–Ω–∏–º–∞—Ü–∏–∏
  function delay(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
  
  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª–∞ –ª–æ–≥–æ–≤
  watch(visualizationLog, async () => {
    await nextTick();
    if (logContainer.value) {
      logContainer.value.scrollTop = logContainer.value.scrollHeight;
    }
  });
  
  // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  function runTest(index) {
    const test = testCases.value[index];
    const testLimits = { ...test.limits };
    
    try {
      // –í—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
      const testResult = atmImplementation(test.amount, testLimits);
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
      if (test.isError) {
        // –î–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞, –Ω–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ
        test.result = testResult;
        test.passed = false;
      } else {
        // –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –æ–∂–∏–¥–∞–µ–º—ã–º
        const resultMatches = JSON.stringify(testResult) === JSON.stringify(test.expected);
        test.result = testResult;
        test.passed = resultMatches;
      }
    } catch (error) {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ–∂–∏–¥–∞–ª–∞—Å—å –ª–∏ –æ—à–∏–±–∫–∞
      if (test.isError && error.message === test.expected) {
        test.result = error.message;
        test.passed = true;
      } else {
        test.result = error.message;
        test.passed = false;
      }
    }
  }
  
  // –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –∫ –≤–µ—Ä—Ö—É –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–µ–∫—Ü–∏–∏
  watch(currentSection, () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
  </script>
  
  <style scoped>
  .atm-demo {
    font-family: Arial, sans-serif;
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
    color: #333;
  }
  
  h1 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 10px;
  }
  
  .intro {
    text-align: center;
    color: #7f8c8d;
    margin-bottom: 30px;
  }
  
  /* –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–µ–∫—Ü–∏—è–º */
  .sections-nav {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 30px;
    flex-wrap: wrap;
  }
  
  .sections-nav button {
    padding: 10px 15px;
    background-color: #f5f7fa;
    border: 1px solid #ddd;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.95rem;
    transition: all 0.3s;
  }
  
  .sections-nav button:hover {
    background-color: #e9ecef;
    transform: translateY(-2px);
  }
  
  .sections-nav button.active {
    background-color: #3498db;
    color: white;
    border-color: #3498db;
    box-shadow: 0 4px 6px rgba(52, 152, 219, 0.2);
  }
  
  /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ —Å–µ–∫—Ü–∏–π */
  section {
    background-color: white;
    border-radius: 10px;
    padding: 25px;
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05);
    margin-bottom: 30px;
    animation: fadeIn 0.5s ease;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  h2 {
    color: #2c3e50;
    border-bottom: 2px solid #3498db;
    padding-bottom: 10px;
    margin-bottom: 20px;
  }
  
  h3 {
    color: #34495e;
    margin: 25px 0 15px;
  }
  
  /* –°–µ–∫—Ü–∏—è —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∑–∞–¥–∞—á–∏ */
  .task-description {
    line-height: 1.6;
  }
  
  .task-description p {
    margin-bottom: 12px;
  }
  
  .task-description ul {
    padding-left: 20px;
    margin-bottom: 20px;
  }
  
  .task-description li {
    margin-bottom: 8px;
  }
  
  .code-example {
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 15px;
    margin: 20px 0;
  }
  
  .code-example pre {
    background-color: #282c34;
    color: #abb2bf;
    padding: 15px;
    border-radius: 5px;
    overflow-x: auto;
    font-family: 'Courier New', Courier, monospace;
    margin: 0;
  }
  
  /* –°–µ–∫—Ü–∏—è —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º */
  .algorithm-description {
    line-height: 1.6;
  }
  
  .algorithm-steps {
    margin: 25px 0;
  }
  
  .step {
    display: flex;
    margin-bottom: 20px;
    align-items: flex-start;
  }
  
  .step-number {
    background-color: #3498db;
    color: white;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin-right: 15px;
    flex-shrink: 0;
  }
  
  .step-content {
    flex: 1;
  }
  
  .step-content h4 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #2c3e50;
  }
  
  .step-content p {
    margin-top: 0;
  }
  
  .step-content ol {
    padding-left: 20px;
    margin-top: 10px;
  }
  
  .step-content li {
    margin-bottom: 8px;
  }
  
  .why-greedy {
    background-color: #f0f7fb;
    border-left: 5px solid #3498db;
    padding: 15px;
    border-radius: 5px;
    margin: 20px 0;
  }
  
  .why-greedy h3 {
    margin-top: 0;
    color: #3498db;
  }
  
  .why-greedy ul {
    padding-left: 20px;
    margin-bottom: 0;
  }
  
  /* –°–µ–∫—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ */
  .visualization-controls {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }
  
  .input-group {
    flex: 1;
    min-width: 200px;
  }
  
  .input-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
  }
  
  .input-group input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
  }
  
  .run-btn, .reset-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
  }
  
  .run-btn {
    background-color: #3498db;
    color: white;
  }
  
  .run-btn:hover {
    background-color: #2980b9;
  }
  
  .reset-btn {
    background-color: #e74c3c;
    color: white;
  }
  
  .reset-btn:hover {
    background-color: #c0392b;
  }
  
  .run-btn:disabled, .reset-btn:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
  }
  
  .atm-state {
    background-color: #f8f9fa;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
  }
  
  .amount-display {
    text-align: center;
    margin-bottom: 25px;
    padding: 15px;
    background-color: #2c3e50;
    color: white;
    border-radius: 8px;
  }
  
  .display-label {
    font-size: 0.9rem;
    margin-bottom: 5px;
  }
  
  .amount-value {
    font-size: 2rem;
    font-weight: bold;
  }
  
  .remaining-label {
    margin-top: 10px;
    font-size: 0.9rem;
  }
  
  .remaining-label span {
    font-weight: bold;
    color: #e74c3c;
  }
  
  .banknotes-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }
  
  .banknote-row {
    display: flex;
    align-items: center;
    padding: 15px;
    border-radius: 8px;
    background-color: white;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    transition: all 0.3s;
  }
  
  .banknote-row.active {
    background-color: #ebf7fd;
    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
    transform: translateX(10px);
  }
  
  .nominal-label {
    font-weight: bold;
    width: 100px;
    font-size: 1.2rem;
    color: #2c3e50;
  }
  
  .banknote-limits {
    width: 150px;
    margin-right: 20px;
  }
  
  .available {
    font-size: 0.9rem;
    color: #7f8c8d;
    margin-bottom: 5px;
  }
  
  .taken {
    font-size: 0.9rem;
    font-weight: bold;
    color: #3498db;
  }
  
  .banknotes-visual {
    flex: 1;
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
  }
  
  .banknote {
    width: 40px;
    height: 20px;
    background-color: #ecf0f1;
    border-radius: 3px;
    transition: all 0.3s;
    opacity: 0.5;
    background-size: cover;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .banknote.selected {
    opacity: 1;
    transform: translateY(-3px);
    box-shadow: 0 3px 5px rgba(0, 0, 0, 0.1);
  }
  
  .visualization-result {
    background-color: #f8f9fa;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
    animation: fadeIn 0.5s ease;
  }
  
  .success-result {
    color: #27ae60;
  }
  
  .error-result {
    color: #e74c3c;
  }
  
  .error-message {
    font-weight: bold;
    font-size: 1.2rem;
    margin-top: 10px;
    border: 1px solid #e74c3c;
    padding: 10px;
    border-radius: 5px;
    background-color: #fdedec;
  }
  
  .result-banknotes {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin: 15px 0;
  }
  
  .result-banknote {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  .banknote-visual {
    width: 80px;
    height: 40px;
    background-color: #ecf0f1;
    border-radius: 5px;
    margin-bottom: 5px;
    background-size: cover;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .banknote-count {
    font-weight: bold;
  }
  
  .explanation-log {
    margin-top: 30px;
  }
  
  .log-container {
    max-height: 300px;
    overflow-y: auto;
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 15px;
    border: 1px solid #ecf0f1;
  }
  
  .log-item {
    display: flex;
    align-items: flex-start;
    margin-bottom: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid #ecf0f1;
  }
  
  .log-item:last-child {
    border-bottom: none;
    margin-bottom: 0;
  }
  
  .log-icon {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    margin-right: 10px;
    flex-shrink: 0;
    position: relative;
  }
  
  .log-icon.info::before {
    content: "i";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-weight: bold;
    font-size: 0.8rem;
  }
  
  .log-icon.info {
    background-color: #3498db;
  }
  
  .log-icon.check::before {
    content: "?";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-weight: bold;
    font-size: 0.8rem;
  }
  
  .log-icon.check {
    background-color: #f39c12;
  }
  
  .log-icon.process::before {
    content: "‚Üí";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-weight: bold;
    font-size: 0.8rem;
  }
  
  .log-icon.process {
    background-color: #9b59b6;
  }
  
  .log-icon.calc::before {
    content: "=";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-weight: bold;
    font-size: 0.8rem;
  }
  
  .log-icon.calc {
    background-color: #2ecc71;
  }
  
  .log-icon.success::before {
    content: "‚úì";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-weight: bold;
    font-size: 0.8rem;
  }
  
  .log-icon.success {
    background-color: #27ae60;
  }
  
  .log-icon.error::before {
    content: "‚úï";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-weight: bold;
    font-size: 0.8rem;
  }
  
  .log-icon.error {
    background-color: #e74c3c;
  }
  
  .log-text {
    flex: 1;
    line-height: 1.4;
  }
  
  /* –°–µ–∫—Ü–∏—è —Å –∫–æ–¥–æ–º */
  .implementation {
    margin-bottom: 30px;
  }
  
  .implementation pre {
    background-color: #282c34;
    color: #abb2bf;
    padding: 20px;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Courier New', Courier, monospace;
    line-height: 1.5;
  }
  
  .edge-cases {
    background-color: #fff8dc;
    border-left: 5px solid #f1c40f;
    padding: 15px;
    border-radius: 5px;
  }
  
  .edge-cases h3 {
    margin-top: 0;
    color: #d35400;
  }
  
  .edge-cases ul {
    padding-left: 20px;
  }
  
  .edge-cases li {
    margin-bottom: 10px;
  }
  
  /* –°–µ–∫—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ */
  .real-examples {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
  }
  
  .example-card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    transition: all 0.3s;
  }
  
  .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }
  
  .example-title {
    background-color: #3498db;
    color: white;
    padding: 15px;
    font-weight: bold;
    font-size: 1.1rem;
  }
  
  .example-content {
    padding: 15px;
    line-height: 1.5;
  }
  
  .similar-algorithms {
    background-color: #f0f7fb;
    border-left: 5px solid #3498db;
    padding: 15px;
    border-radius: 5px;
  }
  
  .similar-algorithms h3 {
    margin-top: 0;
    color: #3498db;
  }
  
  .similar-algorithms ul {
    padding-left: 20px;
  }
  
  .similar-algorithms li {
    margin-bottom: 12px;
  }
  
  /* –°–µ–∫—Ü–∏—è —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º */
  .test-cases {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
  
  .test-case {
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  }
  
  .test-input, .test-output {
    margin-bottom: 15px;
  }
  
  .test-input pre, .test-output pre {
    background-color: #f1f1f1;
    padding: 10px;
    border-radius: 5px;
    font-family: 'Courier New', Courier, monospace;
    margin-top: 5px;
  }
  
  .expected-error {
    background-color: #fde2e2;
    color: #e74c3c;
    padding: 8px 12px;
    border-radius: 5px;
    font-family: monospace;
    margin-top: 5px;
  }
  
  .test-button {
    background-color: #3498db;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
  }
  
  .test-button:hover {
    background-color: #2980b9;
  }
  
  .test-result {
    margin-top: 15px;
    padding: 10px;
    border-radius: 5px;
    animation: fadeIn 0.5s ease;
  }
  
  .test-result.success {
    background-color: #d5f5e3;
  }
  
  .test-result.error {
    background-color: #fde2e2;
  }
  
  .success-message {
    color: #27ae60;
    font-weight: bold;
  }
  
  .error-message {
    color: #e74c3c;
    font-weight: bold;
  }
  
  .actual-result {
    margin-top: 10px;
  }
  
  .actual-error {
    background-color: #fde2e2;
    color: #e74c3c;
    padding: 8px 12px;
    border-radius: 5px;
    font-family: monospace;
    margin-top: 5px;
  }
  
  /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
  @media (max-width: 768px) {
    .visualization-controls {
      flex-direction: column;
      align-items: stretch;
    }
    
    .banknote-row {
      flex-direction: column;
      align-items: flex-start;
    }
    
    .nominal-label {
      margin-bottom: 10px;
    }
    
    .banknote-limits {
      width: 100%;
      margin-bottom: 10px;
      margin-right: 0;
    }
    
    .real-examples {
      grid-template-columns: 1fr;
    }
  }
  
  @media (max-width: 480px) {
    .sections-nav {
      flex-direction: column;
    }
    
    .sections-nav button {
      width: 100%;
    }
  }
  </style>